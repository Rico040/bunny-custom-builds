"use strict";(()=>{var e,n,t,r,o,a,i,s,u,c,l,f,d,_,m,p,y,E,g,h,b,v,S,A,T,w,C,R,I,O,N,D,L,P,M,x,B,F,U,k,j,V,G,H,z,$,Y,K,W,X,J,q,Q,Z,ee,en,et,er,eo,ea,ei,es,eu,ec,el,ef,ed,e_,em,ep,ey,eE,eg,eh,eb,ev,eS,eA,eT,ew,eC,eR,eI,eO,eN,eD,eL,eP,eM,ex,eB,eF,eU,ek,ej,eV,eG,eH,ez,e$,eY,eK,eW,eX,eJ,eq,eQ,eZ,e0,e1,e2,e4,e8,e6,e5,e9,e3,e7,ne,nn,nt,nr,no,na,ni,ns,nu,nc,nl,nf,nd,n_,nm,np,ny,nE,ng,nh,nb,nv,nS,nA,nT,nw,nC,nR,nI,nO,nN,nD,nL,nP,nM,nx,nB,nF,nU,nk,nj,nV,nG,nH,nz,n$,nY,nK,nW,nX,nJ,nq,nQ,nZ,n0,n1,n2,n4,n8,n6,n5,n9,n3,n7,te,tn,tt,tr,to,ta,ti,ts,tu,tc,tl,tf,td,t_,tm,tp,ty,tE,tg,th,tb,tv,tS,tA,tT,tw,tC,tR,tI,tO,tN,tD,tL,tP,tM,tx,tB,tF,tU,tk,tj,tV,tG,tH,tz,t$,tY,tK,tW,tX,tJ,tq,tQ,tZ,t0,t1,t2,t4,t8,t6,t5,t9,t3,t7,re,rn,rt,rr,ro,ra,ri,rs,ru,rc,rl,rf,rd,r_,rm,rp,ry,rE,rg,rh,rb,rv,rS,rA,rT,rw,rC,rR,rI,rO,rN,rD,rL,rP,rM,rx,rB,rF,rU,rk,rj,rV,rG,rH,rz,r$,rY,rK,rW,rX,rJ,rq,rQ,rZ,r0,r1,r2,r4,r8,r6,r5,r9,r3,r7,oe,on,ot,or,oo,oa=Object.create,oi=Object.defineProperty,os=Object.getOwnPropertyDescriptor,ou=Object.getOwnPropertyNames,oc=Object.getPrototypeOf,ol=Object.prototype.hasOwnProperty,of=(e,n)=>function(){return e&&(n=(0,e[ou(e)[0]])(e=0)),n},od=(e,n)=>function(){return n||(0,e[ou(e)[0]])((n={exports:{}}).exports,n),n.exports},o_=(e,n)=>{for(var t in n)oi(e,t,{get:n[t],enumerable:!0})},om=(e,n,t,r)=>{if(n&&"object"==typeof n||"function"==typeof n)for(var o,a=ou(n),i=0,s=a.length;i<s;i++)o=a[i],ol.call(e,o)||o===t||oi(e,o,{get:(e=>n[e]).bind(null,o),enumerable:!(r=os(n,o))||r.enumerable});return e},op=(e,n,t)=>(t=null!=e?oa(oc(e)):{},om(!n&&e&&e.__esModule?t:oi(t,"default",{value:e,enumerable:!0}),e)),oy=e=>om(oi({},"__esModule",{value:!0}),e);function oE(e,n=!0){var a,i=n?function(){}:{},s=function(){return a??=e()},u=new Proxy(i,o);return t.set(u,s),r.set(i,s),u}function og(e,n=!1){var t=oE(e,n);return new Proxy({},{get:(e,n)=>n===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:function(e,n){return oE(function(){return t[n]})}}),Error("This is not a real iterator, this is likely used incorrectly")}:oE(function(){return t[n]})})}var oh=of({"src/lib/utils/lazy.ts"(){e=["arguments","caller","prototype"],n=function(n){return"string"==typeof n&&e.includes(n)},t=new WeakMap,r=new WeakMap,o={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(e){return[e,function(n,...t){var o=r.get(n)();if(!o)throw Error(`Trying to ${e} of ${typeof o}`);return Reflect[e](o,...t)}]})),ownKeys:function(n){var t=r.get(n)();if(!t)throw Error(`Trying to ownKeys of ${typeof t}`);var o=Reflect.ownKeys(r.get(n)());return e.forEach(function(e){return!o.includes(e)&&o.push(e)}),o},getOwnPropertyDescriptor:function(e,t){var o=r.get(e)();if(!o)throw Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);if(n(t))return Reflect.getOwnPropertyDescriptor(e,t);var a=Reflect.getOwnPropertyDescriptor(r.get(e)(),t);return a&&Object.defineProperty(e,t,a),a}}}}),ob=of({"node_modules/.pnpm/spitroast@1.4.4/node_modules/spitroast/dist/esm/shared.js"(){a=["a","b","i"],i=new Map}}),ov=of({"node_modules/.pnpm/spitroast@1.4.4/node_modules/spitroast/dist/esm/hook.js"(){ob()}}),oS=of({"node_modules/.pnpm/spitroast@1.4.4/node_modules/spitroast/dist/esm/unpatch.js"(){ob()}});function oA(e){return function(n,t,r,o=!1){if("function"!=typeof t[n])throw Error(`${n} is not a function in ${t.constructor.name}`);i.has(t)||i.set(t,Object.create(null));var s=i.get(t);if(!s[n]){var u=t[n];s[n]={o:u,b:new Map,i:new Map,a:new Map};var c=function(e,r,a){var s=function(e,n,t,r,o){var a=i.get(n)?.[e];if(!a)return o?Reflect.construct(n[e],t,r):n[e].apply(r,t);for(var s of a.b.values()){var u=s.call(r,t);Array.isArray(u)&&(t=u)}var c=[...a.i.values()].reduce(function(e,n){return function(...t){return n.call(r,t,e)}},function(...e){return o?Reflect.construct(a.o,e,r):a.o.apply(r,e)})(...t);for(var l of a.a.values())c=l.call(r,t,c)??c;return c}(n,t,r,e,a);return o&&d(),s},l=new Proxy(u,{apply:function(e,n,t){return c(n,t,!1)},construct:function(e,n){return c(u,n,!0)},get:function(e,n,t){return"toString"==n?u.toString.bind(u):Reflect.get(e,n,t)}});Reflect.defineProperty(t,n,{value:l,configurable:!0,writable:!0})||(t[n]=l)}var f=Symbol(),d=function(){var r,o;return r=i.get(t),o=r?.[n],!!o?.[e].has(f)&&(o[e].delete(f),a.every(function(e){return 0===o[e].size})&&(Reflect.defineProperty(t,n,{value:o.o,writable:!0,configurable:!0})||(t[n]=o.o),delete r[n]),0==Object.keys(r).length&&i.delete(t),!0)};return s[n][e].set(f,r),d}}var oT=of({"node_modules/.pnpm/spitroast@1.4.4/node_modules/spitroast/dist/esm/getPatchFunc.js"(){ov(),ob(),oS()}}),ow=of({"node_modules/.pnpm/spitroast@1.4.4/node_modules/spitroast/dist/esm/index.js"(){oT(),oS(),s=oA("b"),u=oA("i"),c=oA("a")}}),oC={};o_(oC,{BundleUpdaterManager:()=>p,ClientInfoManager:()=>_,DeviceManager:()=>m,FileManager:()=>d,MMKVManager:()=>f,ThemeManager:()=>y});var oR=of({"src/lib/api/native/modules.ts"(){f=(l=window.nativeModuleProxy).MMKVManager,d=l.DCDFileManager??l.RTNFileManager,_=l.InfoDictionaryManager??l.RTNClientInfoManager,m=l.DCDDeviceManager??l.RTNDeviceManager,({BundleUpdaterManager:p}=l),y=l.RTNThemeManager??l.DCDTheme}}),oI=of({"src/lib/utils/throttle.ts"(){}});function oO(e,n,t){return e.default&&e.__esModule&&t(e.default,n,!0)?[t.raw?e:e.default,!t.raw]:!t.raw&&t(e,n,!1)?[e,!1]:[void 0,!1]}function oN(e){var{cacheId:n,finish:t}=a7(e.uniq,!1);for(var[r,o]of a1(e.uniq,!1)){var[a,i]=oO(o,r,e);if(void 0!==a)return n(r,a),[r,i]}return t(!0),[]}function oD(e){return oN(e)?.[0]}function oL(e){var[n,t]=oN(e);if(null!=n)return t?a0(n).default:a0(n)}function oP(e){var{cacheId:n,finish:t}=a7(e.uniq,!0),r=[];for(var[o,a]of a1(e.uniq,!0)){var[i,s]=oO(a,o,e);void 0!==i&&(r.push([o,s]),n(o,i))}return t(0===r.length),r}function oM(e){return oP(e).map(function(e){return e[0]})}function ox(e){return oP(e).map(function(e){if(e.length){var[n,t]=e;return t?a0(n).default:a0(n)}})}var oB=of({"src/metro/finders.ts"(){ir(),a4()}});function oF(e){var n=void 0,t=function(e){var n=nP().findIndex[e.uniq];if(n){var t=Object.keys(n).filter(function(e){return"_"!==e[0]})[0];return t?Number(t):void 0}}(e),r={filter:e,indexed:!!t,moduleId:t,getExports(e){return!t||ng[t]?.isInitialized?(e(this.unproxy()),function(){}):this.subscribe(e)},subscribe:e=>(function(e,n){var t=E.get(e);if(!t)throw Error("Subscribing a module for non-proxy-find");if(!t.indexed)throw Error("Attempting to subscribe to a non-indexed find");return aZ(t.moduleId,function(){n(oL(t.filter))})})(o,e),get cache(){return n},unproxy(){if(!(n??=oL(e)))throw Error(`${e.uniq} is ${typeof n}! (id ${r.moduleId??"unknown"})`);return n}},o=oE(function(){return r.unproxy()});return E.set(o,r),o}var oU=of({"src/metro/proxy.ts"(){oh(),ir(),oB(),a4(),E=new WeakMap}}),ok={};function oj(e){function n(...t){var r,o=this,a=(r=t[1],E.get(r));if(a&&!a.cache&&a.indexed){var i=!1,s=function(){return i=!0};return a.subscribe(function(n){i||(t[1]=n,s=e.apply(o,t))}),function(){return s()}}return e.apply(this,t)}return n.proxy=function(...e){var[t,r]=e[1],o=E.get(t);if(!o)return e[1]=r(t),n(...e);var a=!1,i=function(){return a=!0};return o.getExports(function(t){a||(e[1]=r(t),i=n(...e))}),i},n}o_(ok,{after:()=>g,before:()=>h,default:()=>v,instead:()=>b});var oV=of({"src/lib/api/patcher.ts"(){oU(),ow(),g=oj(c),h=oj(s),b=oj(u),v={after:g,before:h,instead:b}}}),oG={};function oH(e){if(!A)return g("registerAsset",A=e,function([e]){var n=nC;-1!==n&&it(e.name,n)})}o_(oG,{assetsMap:()=>S,findAsset:()=>T,patchAssets:()=>oH,requireAssetByIndex:()=>C,requireAssetByName:()=>w,requireAssetIndex:()=>R});var oz=of({"src/lib/api/assets.ts"(){oV(),ir(),a4(),S=new Proxy({},{get(e,n){if("string"==typeof n){if(e[n])return e[n];var t=nP().assetsIndex[n];if(null!=t&&0!==Object.keys(t).length){for(var r in t){var o=a0(Number(r)),a=A.getAssetByID(o);a&&(a.index??=a.id??=o,a.moduleId??=r,e[n]??=a)}return e[n]}}},ownKeys(e){var n=Reflect.ownKeys(nP().assetsIndex);for(var t of n)e[t]=this.get(e,t,{});return n}}),T=function(e){return Object.values(S).find(e)},w=function(e){return S[e]},C=function(e){return A.getAssetByID(e)},R=function(e){return S[e]?.index}}}),o$=of({"src/core/polyfills/allSettled.ts"(){I=function(e){return{status:"fulfilled",value:e}},O=function(e){return{status:"rejected",reason:e}},N=function(e){return Promise.resolve(e).then(I,O)},D=function(e){return Promise.all(Array.from(e).map(N))},Promise.allSettled??=D}});function oY(){return{listeners:Object.values(L).reduce(function(e,n){return e[n]=new Set,e},{}),on(e,n){this.listeners[e].has(n)||this.listeners[e].add(n)},off(e,n){this.listeners[e].delete(n)},once(e,n){var t=this,r=function(e,o){t.off(e,r),n(e,o)};this.on(e,r)},emit(e,n){for(var t of this.listeners[e])t(e,n)}}}var oK=of({"src/lib/utils/emitter.ts"(){var e;(e=L||(L={})).GET="GET",e.SET="SET",e.DEL="DEL"}}),oW=od({"glob-react-native:react-native"(e,n){Object.defineProperty(n,"exports",{get:()=>globalThis.ReactNative})}}),oX=of({"src/lib/api/storage/backends.ts"(){oR(),P=op(oW()),M=/[<>:"/\\|?*]/g,x=function(e){return P.Platform.select({default:e,ios:d.saveFileToGallery?e:`Documents/${e}`})},B=function(e){return M.test(e)&&(e=e.replace(M,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`},F=async function(e){await f.getItem(e)&&f.removeItem(e);var n=B(e);await d.fileExists(`${d.getConstants().DocumentsDirPath}/${n}`)&&await d.removeFile?.("documents",n)},U=function(e,n={}){var t=B(e),r=JSON.stringify(n);return k(t,n,async function(){var n=`${d.getConstants().DocumentsDirPath}/${t}`;if(!await d.fileExists(n)){var o=await f.getItem(e)??r;if("!!LARGE_VALUE!!"===o){var a=`${d.getConstants().CacheDirPath}/mmkv/${e}`;await d.fileExists(a)?o=await d.readFile(a,"utf8"):(console.log(`${e}: Experienced data loss :(`),o=r)}try{JSON.parse(o)}catch(n){console.error(`${e} had an unparseable data while migrating`),o=r}await d.writeFile("documents",x(t),o,"utf8"),await f.getItem(e)!==null&&(f.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}}())},k=function(e,n={},t){return{get:async function(){await t;var r=`${d.getConstants().DocumentsDirPath}/${e}`;if(await d.fileExists(r)){var o=await d.readFile(r,"utf8");try{return JSON.parse(o)}catch(e){}}return await d.writeFile("documents",x(e),JSON.stringify(n),"utf8"),JSON.parse(await d.readFile(r,"utf8"))},set:async function(n){await t,await d.writeFile("documents",x(e),JSON.stringify(n),"utf8")}}}}}),oJ={};function oq(e={}){var n=oY();return{proxy:function e(t,r){return new Proxy(t,{get(t,o){if(o===j)return n;var a=[...r,o],i=t[o];return null!=i&&(n.emit("GET",{path:a,value:i}),"object"==typeof i)?e(i,a):i},set:(e,t,o)=>(e[t]=o,n.emit("SET",{path:[...r,t],value:o}),!0),deleteProperty(e,t){var o=delete e[t];return o&&n.emit("DEL",{path:[...r,t]}),o}})}(e,[]),emitter:n}}function oQ(e){var n=e[j],[,t]=React.useReducer(function(e){return~e},0);return React.useEffect(function(){var e=function(){return t()};return n.on("SET",e),n.on("DEL",e),function(){n.off("SET",e),n.off("DEL",e)}},[]),e}async function oZ(e){var{proxy:n,emitter:t}=oq(await e.get()),r=function(){return e.set(n)};return t.on("SET",r),t.on("DEL",r),n}function o0(e){var n=void 0,t=[],r=function(e){return n?e():t.push(e)};return e.then(function(e){n=e,t.forEach(function(e){return e()})}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(e){return[e,function(t,...r){return Reflect[e](n??t,...r)}]})),get:(e,t,o)=>t===V?r:Reflect.get(n??e,t,o)})}o_(oJ,{awaitSyncWrapper:()=>G,createFileBackend:()=>k,createMMKVBackend:()=>U,createProxy:()=>oq,createStorage:()=>oZ,purgeStorage:()=>F,useProxy:()=>oQ,wrapSync:()=>o0});var o1=of({"src/lib/api/storage/index.ts"(){oK(),oX(),j=Symbol.for("vendetta.storage.emitter"),V=Symbol.for("vendetta.storage.accessor"),G=function(e){return new Promise(function(n){return e[V](n)})}}}),o2={};o_(o2,{BUNNY_PROXY_PREFIX:()=>Y,DISCORD_SERVER:()=>H,DISCORD_SERVER_ID:()=>X,GITHUB:()=>z,HTTP_REGEX:()=>K,HTTP_REGEX_MULTI:()=>W,PLUGINS_CHANNEL_ID:()=>J,PROXY_PREFIX:()=>$,THEMES_CHANNEL_ID:()=>q});var o4=of({"src/lib/utils/constants.ts"(){H="https://discord.gg/XjYgWXHb9Q",z="https://github.com/pyoncord",$="https://vd-plugins.github.io/proxy",Y="https://bn-plugins.github.io/vd-proxy",K=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,W=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,X="1015931589865246730",J="1091880384561684561",q="1091880434939482202"}}),o8=of({"src/lib/utils/findInReactTree.ts"(){ac(),Q=function(e,n){return Z(e,n,{walkable:["props","children","child","sibling"]})}}}),o6=of({"src/lib/utils/findInTree.ts"(){Z=function(e,n,{walkable:t=[],ignore:r=[],maxDepth:o=100}={}){return function e(n,t,r,o){if(!(o>r.maxDepth)&&n){try{if(t(n))return n}catch(e){}if(Array.isArray(n)){for(var a of n)if("object"==typeof a&&null!==a)try{var i=e(a,t,r,o+1);if(i)return i}catch(e){}}else if("object"==typeof n){for(var s of Object.keys(n))if("object"==typeof n[s]&&null!==n[s]&&(!r.walkable.length||r.walkable.includes(s))&&!r.ignore.includes(s))try{var u=e(n[s],t,r,o+1);if(u)return u}catch(e){}}}}(e,n,{walkable:t,ignore:r,maxDepth:o},0)}}}),o5=of({"src/metro/filters.ts"(){a4(),o7(),ee=o9(function(e,n){return 0===e.length?n[e[0]]:e.every(function(e){return n[e]})},function(e){return`bunny.metro.byProps(${e.join(",")})`}),en=o9(function([e],n){return n.name===e},function(e){return`bunny.metro.byName(${e})`}),et=o9(function([e],n){return n.displayName===e},function(e){return`bunny.metro.byDisplayName(${e})`}),er=o9(function([e],n){return n.type?.name===e},function(e){return`bunny.metro.byTypeName(${e})`}),eo=o9(function([e],n){return n.getName?.length===0&&n.getName()===e},function(e){return`bunny.metro.byStoreName(${e})`}),ea=o9(function([e],n,t,r){return!r&&ng[t]?.__filePath===e},function(e){return`bunny.metro.byFilePath(${e})`}),ei=o9(function([e],n){return n?.[e]&&!Object.getOwnPropertyDescriptor(n,e)?.get},function(e){return`bunny.metro.byMutableProp(${e})`})}});function o9(e,n){var t=function(t){return function(...r){return Object.assign(function(n,t,o){return e(r,n,t,o)},{filter:e,raw:t,uniq:[t&&"raw::",n(r)].filter(Boolean).join("")})}};return Object.assign(t(!1),{byRaw:t(!0),uniqMaker:n})}function o3(e,n){return o9(function(n,t){return e(t)},function(){return`dynamic::${n}`})()}var o7=of({"src/metro/utils.ts"(){o5(),oB(),oU(),es=function(...e){return oL(ee(...e))},eu=function(...e){return oF(ee(...e))},ec=function(...e){return ox(ee(...e))},el=function(e,n=!0){return oL(n?en(e):en.byRaw(e))},ef=function(e,n=!0){return oF(n?en(e):en.byRaw(e))},ed=function(e,n=!0){return ox(n?en(e):en.byRaw(e))},e_=function(e,n=!0){return oL(n?et(e):et.byRaw(e))},em=function(e,n=!0){return oF(n?et(e):et.byRaw(e))},ep=function(e,n=!0){return ox(n?et(e):et.byRaw(e))},ey=function(e,n=!0){return oL(n?er(e):er.byRaw(e))},eE=function(e,n=!0){return oF(n?er(e):er.byRaw(e))},eg=function(e,n=!0){return ox(n?er(e):er.byRaw(e))},eh=function(e){return oL(eo(e))},eb=function(e){return oF(eo(e))},ev=function(e){return oL(ea(e))},eS=function(e){return oF(ea(e))}}}),ae={};o_(ae,{logModule:()=>eA,logger:()=>eT});var an=of({"src/lib/utils/logger.ts"(){o7(),eT=new(eA=ef("Logger"))("Bunny")}});async function at(e,n,t=1e4){var r,o=await fetch(e,{signal:(r=new AbortController,setTimeout(function(){return r.abort(`Timed out after ${t}ms`)},t),r.signal),...n});if(!o.ok)throw Error("Request returned non-ok");return o}var ar=of({"src/lib/utils/safeFetch.ts"(){}}),ao={};o_(ao,{ButtonColors:()=>ew});var aa=of({"src/lib/utils/types.ts"(){var e;(e=ew||(ew={})).BRAND="brand",e.RED="red",e.GREEN="green",e.PRIMARY="primary",e.TRANSPARENT="transparent",e.GREY="grey",e.LIGHTGREY="lightgrey",e.WHITE="white",e.LINK="link"}});function ai(e,...n){var t={...e};return n.forEach(function(e){return delete t[e]}),t}var as=of({"src/lib/utils/without.ts"(){}}),au={};o_(au,{constants:()=>o2,createEmitter:()=>oY,findInReactTree:()=>Q,findInTree:()=>Z,logger:()=>ae,safeFetch:()=>at,types:()=>ao,without:()=>ai});var ac=of({"src/lib/utils/index.ts"(){o4(),oK(),o8(),o6(),an(),ar(),aa(),as()}}),al={};o_(al,{AsyncUsers:()=>eG,Flux:()=>eH,FluxDispatcher:()=>ez,NavigationNative:()=>eU,Profiles:()=>eV,React:()=>e$,ReactNative:()=>eY,Skia:()=>eJ,Users:()=>ej,assets:()=>eD,channels:()=>eR,chroma:()=>eW,clipboard:()=>eN,commands:()=>eP,constants:()=>eC,i18n:()=>eI,invites:()=>eL,lodash:()=>eX,messageUtil:()=>eB,moment:()=>eK,navigation:()=>eM,navigationStack:()=>eF,toasts:()=>ex,tokens:()=>ek,url:()=>eO,util:()=>eq});var af=of({"src/metro/common/index.ts"(){oh(),o7(),eC=eu("Fonts","Permissions"),eR=eu("getVoiceChannelId"),eI=eu("Messages"),eO=eu("openURL","openDeeplink"),eN=eu("setString","getString","hasString"),eD=eu("registerAsset"),eL=eu("acceptInviteAndTransitionToInviteChannel"),eP=eu("getBuiltInCommands"),eM=eu("pushLazy"),ex=oE(function(){return ev("modules/toast/native/ToastActionCreators.tsx").default}),eB=eu("sendBotMessage"),eF=eu("createStackNavigator"),eU=eu("NavigationContainer"),ek=eu("colors","unsafe_rawColors"),ej=eu("getCurrentUser"),eV=eu("showUserProfile"),eG=eu("getUser","fetchProfile"),eH=eu("connectStores"),ez=es("_interceptors"),e$=window.React=eu("createElement"),eY=window.ReactNative=eu("AppRegistry"),eK=eu("isMoment"),eW=eu("brewer"),eX=eu("forEachRight"),eJ=eu("useFont"),eq=eu("inspect","isNullOrUndefined")}}),ad={};async function a_(e){if("object"!=typeof e)throw Error("Theme must be an object");await k(aB()||"theme.json").set(e)}function am(){var e=[g("default",e8,function(e,n){return nr?React.createElement(eQ.ImageBackground,{style:{flex:1,height:"100%"},source:no?.data?.background?.url&&{uri:no.data.background.url}||0,blurRadius:"number"==typeof no?.data?.background?.blur?no?.data?.background?.blur:0,children:n}):n}),g("render",e6.prototype,function(e,n){if(nr&&no?.data?.background?.url){var t=Q(n,function(e){return e&&"HACK_fixModalInteraction"in e.props&&e?.props?.style});t?t.props.style=[t.props.style,{backgroundColor:eW(t.props.style.backgroundColor||"black").alpha(1-(no?.data.background?.alpha??1)).hex()}]:console.error("Didn't find Messages when patching MessagesWrapper!")}})];return function(){return e.forEach(function(e){return e()})}}function ap(e){if(eW.valid(e))return eW(e).hex();var n=Number((0,eQ.processColor)(e));return eW.rgb(n>>16&255,n>>8&255,255&n,n>>24&255).hex()}async function ay(e,n=!1){var t;try{t=await (await at(e,{cache:"no-store"})).json()}catch(n){throw Error(`Failed to fetch theme at ${e}`)}e9[e]={id:e,selected:n,data:function(e){if(e.semanticColors){var{semanticColors:n}=e;for(var t in n)for(var r in n[t])n[t][r]&&=ap(n[t][r])}if(e.rawColors){var{rawColors:o}=e;for(var a in o)e.rawColors[a]=ap(o[a]);"android"===eQ.Platform.OS&&function(e){var n={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var t in n){var[r,o]=n[t];e[r]&&(e[t]=eW(e[r]).alpha(o).hex())}}(o)}return e.spec??=2,e}(t)},n&&(a_(e9[e]),aA(e9[e],nt))}async function aE(e){if("string"!=typeof e||e in e9)throw Error("Theme already installed");await ay(e)}function ag(e,n=!0){return(e&&(e.selected=!0),Object.keys(e9).forEach(function(n){return e9[n].selected=e9[n].id===e?.id}),null==e&&n)?a_({}):e?a_(e):void 0}async function ah(e){var n=e9[e];return n.selected&&await ag(null),delete e9[e],n.selected}function ab(){return ax()}async function av(){await G(e9);var e=ab();await D(Object.keys(e9).map(function(n){return ay(n,e?.id===n)}))}function aS(){return no}function aA(e,n){n||(n=function(e=nt){var n=e2.theme.toLowerCase();return ni.has(n)?n:e}()),nr=!!(no=e),nt=n,nn=`vd-theme-${ne++}-${n}`,e&&(eZ.Theme[nn.toUpperCase()]=nn,e4.DIVIDER_COLORS[nn]=e4.DIVIDER_COLORS[nt],Object.keys(eZ.Shadow).forEach(function(e){return eZ.Shadow[e][nn]=eZ.Shadow[e][nt]}),Object.keys(eZ.SemanticColor).forEach(function(n){eZ.SemanticColor[n][nn]={...eZ.SemanticColor[n][nt],override:e?.data?.semanticColors?.[n]?.[0]}})),na&&(e1.setShouldSyncAppearanceSettings(!1),e1.updateTheme(e?nn:n))}function aT(){var e,n=ab();nr=!!n,e=function([e]){return e===nn?[nt]:void 0},Object.keys(eZ.RawColor).forEach(function(e){Object.defineProperty(eZ.RawColor,e,{configurable:!0,enumerable:!0,get:function(){return nr?no?.data?.rawColors?.[e]??e7[e]:e7[e]}})}),h("isThemeDark",e5,e),h("isThemeLight",e5,e),h("updateTheme",y,e),g("get",e0,function([e],n){"SelectivelySyncedUserSettingsStore"===e?(na=!0,n?._state?.appearance?.settings?.theme&&nr&&(nt=n._state.appearance.settings.theme,n._state.appearance.settings.theme=nn)):"ThemeStore"===e&&(na=!0,n?._state?.theme&&nr&&(nt=n._state.theme,n._state.theme=nn))}),h("set",e0,function(e){if(e[1]){var n=e[0],t=JSON.parse(JSON.stringify(e[1])),r={SelectivelySyncedUserSettingsStore:function(){if(t._state?.appearance?.settings?.theme){var{theme:e}=t._state?.appearance?.settings??{};ni.has(e)?nt=e:t._state.appearance.settings.theme=nt}},ThemeStore:function(){if(t._state?.theme){var{theme:e}=t._state;ni.has(e)?nt=e:t._state.theme=nt}}};return n in r?(r[n](),[n,t]):e}}),b("resolveSemanticColor",eZ.default.meta??eZ.default.internal,function(e,n){if(!nr||!no||e[0]!==nn)return n(...e);e[0]=nt;var[t,r]=function e(n,t){var r=t[e._sym??=Object.getOwnPropertySymbols(t)[0]],o=eZ.SemanticColor[r];return[r,o[n]]}(nt,e[1]),o="midnight"===nt?2:"light"===nt?1:0,a=e3[t]??t,i=(no.data?.semanticColors?.[t]??no.data?.semanticColors?.[a])?.[o];if(i)return i;var s=no.data?.rawColors?.[r.raw];return s?1===r.opacity?s:eW(s).alpha(r.opacity).hex():n(...e)}),aA(n,nt),av().catch(function(e){return console.error("Failed to update themes",e)})}o_(ad,{applyTheme:()=>aA,color:()=>eZ,fetchTheme:()=>ay,getCurrentTheme:()=>aS,getThemeFromLoader:()=>ab,initThemes:()=>aT,installTheme:()=>aE,patchChatBackground:()=>am,removeTheme:()=>ah,selectTheme:()=>ag,themes:()=>e9,updateThemes:()=>av});var aw=of({"src/lib/managers/themes.ts"(){o$(),az(),oR(),oV(),o1(),ac(),oh(),af(),o5(),oU(),o7(),eQ=op(oW()),eZ=eu("SemanticColor"),e0=oE(function(){var e=es("impl");return"object"==typeof e?.impl?e.impl:es("storage")}),e1=eu("updateTheme"),e2=eb("ThemeStore"),e4=eu("DIVIDER_COLORS"),e8=ef("MessagesWrapperConnected",!1),({MessagesWrapper:e6}=og(function(){return es("MessagesWrapper")})),e5=oF(ei("isThemeDark")),e9=o0(oZ(U("VENDETTA_THEMES"))),e3={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"},e7={...eZ.RawColor},ne=0,nn="vd-theme",nt="darker",nr=!1,na=!1,ni=new Set(["darker","midnight","dark","light"])}}),aC={};function aR(){return null!=nu}function aI(){return null!=ns}function aO(){return aI()?ns:aR()?aN():null}function aN(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:function(){if(!aI()||aR())return null;var e={name:ns.loaderName,features:{}};return aP()&&(e.features.loaderConfig=!0),aj()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:function(){return aV()},configurable:!0})),aM()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:function(){var e=ax()?.id;if(!e)return null;var{themes:n}=(aw(),oy(ad));return n[e]??ax()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:function(){return e},configurable:!0}),e}()}function aD(){return aI()?ns.loaderName:aR()?nu.name:"Unknown"}function aL(){return aI()?ns.loaderVersion:null}function aP(){return!!aI()||!!aR()&&nu.features.loaderConfig}function aM(){return aI()?ns.hasThemeSupport:!!aR()&&null!=nu.features.themes}function ax(){if(aI())return ns.storedTheme;if(aR()){var e=nu.features.themes?.prop;return e&&globalThis[e]||null}return null}function aB(){return aI()?"pyoncord/current-theme.json":aR()?"vendetta_theme.json":null}function aF(){return aI()?!!window.__reactDevTools:!!aR()&&null!=nu.features.devtools}function aU(){return aF()?aI()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):aR()?nu.features.devtools.prop:null:null}function ak(){return aF()?aI()?window.__reactDevTools.version||null:aR()?nu.features.devtools.version:null:null}function aj(){return aI()?ns.isSysColorsSupported:!!aR()&&null!=nu.features.syscolors}function aV(){return aj()?aI()?ns.sysColors:aR()?nu.features.syscolors.prop:null:null}function aG(){return aI()?"pyoncord/loader.json":aR()?"vendetta_loader.json":"loader.json"}function aH(){return!!aI()&&2===ns.fontPatch}o_(aC,{getLoaderConfigPath:()=>aG,getLoaderIdentity:()=>aO,getLoaderName:()=>aD,getLoaderVersion:()=>aL,getReactDevToolsProp:()=>aU,getReactDevToolsVersion:()=>ak,getStoredTheme:()=>ax,getSysColors:()=>aV,getThemeFilePath:()=>aB,getVendettaLoaderIdentity:()=>aN,isFontSupported:()=>aH,isLoaderConfigSupported:()=>aP,isPyonLoader:()=>aI,isReactDevToolsPreloaded:()=>aF,isSysColorsSupported:()=>aj,isThemeSupported:()=>aM,isVendettaLoader:()=>aR});var az=of({"src/lib/api/native/loader.ts"(){ns=globalThis.__PYON_LOADER__,nu=globalThis.__vendetta_loader,aN()}}),a$={};o_(a$,{loaderConfig:()=>nl,settings:()=>nc});var aY=of({"src/lib/settings.ts"(){az(),o1(),nc=o0(oZ(U("VENDETTA_SETTINGS"))),nl=o0(oZ(k(aG(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))}}),aK={};o_(aK,{default:()=>np});var aW=of({"src/metro/polyfills/redesign.ts"(){for(ny of(ir(),o5(),nf=function(e){var n=ee(e),t=[];for(var[r,o]of n_.getModules())n(o,r,!1)?(n_.cacheId(r),t.push(o)):o.__esModule&&o.default&&n(o.default,r,!1)&&(n_.cacheId(r),t.push(o.default));if(0===t.length)return"continue";var a=t.reduce(function(e,n){return Object.keys(n).length<Object.keys(e).length?n:e});nm[e]=a[e]},nd=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),n_=ie("redesign_module"),np=nm={},nd))nf(ny);n_.finish()}}),aX={};function aJ(e){Object.defineProperty(ng,e,{enumerable:!1}),nv.add(e),a3(Number(e))}function aq(e){return!e||e===window||null===e["<!@ pylix was here :fuyusquish: !@>"]||e.__proto__===Object.prototype&&0===Reflect.ownKeys(e).length}function aQ(){return nC}function aZ(e,n){var t=nb.get(e)??new Set;return t.add(n),nb.set(e,t),function(){return t.delete(n)}}function a0(e){if(ng[0]?.isInitialized||nh(0),!nv.has(e)){if(-1===Number(e))return aW(),oy(aK);if(ng[e]?.isInitialized&&!ng[e]?.hasError)return nh(e);var n,t=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(nS);try{n=nh(e)}catch(t){aJ(e),n=void 0}return ErrorUtils.setGlobalHandler(t),n}}function*a1(e,n=!1){yield[-1,(aW(),oy(aK))];var t=nP().findIndex[e];if(n&&!t?.[`_${nD.FULL_LOOKUP}`]&&(t=void 0),!t?.[`_${nD.NOT_FOUND}`]){for(var r in t)if("_"!==r[0]){var o=a0(Number(r));aq(o)||(yield[r,o])}for(var a in ng){var i=a0(Number(a));aq(i)||(yield[a,i])}}}function*a2(e){var n=nP().polyfillIndex[e];for(var t in n){var r=a0(Number(t));aq(r)||(yield[t,r])}if(!n[`_${nD.FULL_LOOKUP}`])for(var o in ng){var a=a0(Number(o));aq(a)||(yield[o,a])}}o_(aX,{getCachedPolyfillModules:()=>a2,getImportingModuleId:()=>aQ,getModules:()=>a1,metroModules:()=>ng,requireModule:()=>a0,subscribeModule:()=>aZ});var a4=of({"src/metro/modules.ts"(){for(nR in ir(),ow(),nE=function(e){var n=Number(e),t=ng[n];if(nP().exportsIndex[n]&nN.BLACKLISTED)return aJ(n),"continue";t.factory&&u("factory",t,function(e,t){nC=n;var{1:r,4:o}=e;e[2]=function(e){var n=r(e);return n&&n.__esModule?n.default:n},e[3]=function(e){var n=r(e);if(n&&n.__esModule)return n;var t={};return n&&Object.assign(t,n),t.default=n,t},t(...e),aq(o.exports)?aJ(n):function(e,n){if(a9(n,e),e.initSentry&&=function(){},e.default?.track&&e.default.trackMaker&&(e.default.track=function(){return Promise.resolve()}),e.registerAsset&&(oz(),oy(oG)).patchAssets(e),e?.default?.name==="requireNativeComponent"&&u("default",e,function(e,n){try{return n(...e)}catch(n){return e[0]}}),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(e,n,t){if("isDeveloper"===n){var{settings:r}=(aY(),oy(a$));return r.enableDiscordDeveloperSettings??!1}return Reflect.get(e,n,t)}})),!nw&&e.fileFinishedImporting&&(s("fileFinishedImporting",e,function([e]){-1!==nC&&e&&(ng[nC].__filePath=e)}),nw=!0),!nT&&window["__core-js_shared__"]&&(window["__core-js_shared__"].inspectSource=function(e){return"function"==typeof e&&nA.apply(e,[])},nT=!0),e.findHostInstance_DEPRECATED){var t=ng[n-1]?.publicModule.exports,r=t.default?.reactProfilingEnabled?1:-1;ng[n+r]?.isInitialized||aJ(n+r)}e.isMoment&&u("defineLocale",e,function(n,t){var r=e.locale();t(...n),e.locale(r)});var o=nb.get(Number(n));o&&(o.forEach(function(e){return e()}),nb.delete(Number(n)))}(o.exports,n),nC=-1})},ng=window.modules,nh=window.__r,nb=new Map,nv=new Set,nS=function(){},nA=Function.prototype.toString,nT=!1,nw=!1,nC=-1,ng)nE(nR)}}),a8={};function a6(){var e={_v:nI,_buildNumber:_.Build,_modulesCount:Object.keys(window.modules).length,exportsIndex:{},findIndex:{},polyfillIndex:{},assetsIndex:{}};return setTimeout(function(){for(var e in window.modules)(a4(),oy(aX)).requireModule(e)},1e3),nL=e,e}async function a5(){var e=await f.getItem(nO);if(null==e)return void a6();try{if((nL=JSON.parse(e))._buildNumber!==_.Build)throw nL=null,"cache invalidated; version mismatch";if(nL._modulesCount!==Object.keys(window.modules).length)throw nL=null,"cache invalidated; modules count mismatch"}catch(e){a6()}}function a9(e,n){var t=n?1:0;1!==t&&(nL.exportsIndex[e]=t)}function a3(e){nL.exportsIndex[e]|=2}function a7(e,n){var t=nL.findIndex[e]??={};return{cacheId(e,n){t[e]??=n?1:0,nM()},finish(e){n&&(t._0=1),e&&(t._1=1),nM()}}}function ie(e){var n=nL.polyfillIndex[e]??={};return{getModules:()=>(a4(),oy(aX)).getCachedPolyfillModules(e),cacheId(e){n[e]=1,nM()},finish(){n._0=1,nM()}}}function it(e,n){isNaN(n)||((nL.assetsIndex[e]??={})[n]=1,nM())}o_(a8,{ExportsFlags:()=>nN,ModulesMapInternal:()=>nD,getCacherForUniq:()=>a7,getMetroCache:()=>nP,getPolyfillModuleCacher:()=>ie,indexBlacklistFlag:()=>a3,indexExportsFlags:()=>a9,initMetroCache:()=>a5,registerAssetCacheId:()=>it});var ir=of({"src/metro/caches.ts"(){var e,n;oR(),oI(),nI=33,nO="__bunny_metro_cache_key__",(e=nN||(nN={}))[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED",(n=nD||(nD={}))[n.FULL_LOOKUP=0]="FULL_LOOKUP",n[n.NOT_FOUND=1]="NOT_FOUND",nL=null,nP=window.__getMetroCache=function(){return nL},nM=function(e,n=200){var t=!1,r=!1;return function(...o){var a=this;t?r=!0:(t=!0,e.apply(this,o),setTimeout(function(){t=!1,r&&(r=!1,e.apply(a,o))},n))}}(function(){f.setItem(nO,JSON.stringify(nL))})}});function io({locale:e}){try{eK.locale(e.toLowerCase())}catch(e){eT.error("Failed to fix timestamps...",e)}ez.unsubscribe("I18N_LOAD_SUCCESS",io)}var ia=of({"src/core/fixes.ts"(){an(),af()}}),ii=of({"src/core/i18n/default.json"(){nx={ABOUT:"About",ACTIONS:"Actions",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Asset Browser",BRAND:"Brand",BUNNY:"Bunny",BUNNY_URL:"Bunny URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}!",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}.",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send Bunny debug info.",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send debug info ephemerally.",COMMAND_EVAL_DESC:"Evaluate JavaScript code.",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code. Must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate.",COMMAND_PLUGINS_DESC:"Send list of installed plugins.",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send plugins list ephemerally.",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug websocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",COPIED_TO_CLIPBOARD:"Copied to clipboard",COPY_URL:"Copy URL",DEBUG:"Debug",DEBUGGER_URL:"Debugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Developer",DEVELOPER_SETTINGS:"Developer Settings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable updates",DISCORD_SERVER:"Discord Server",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval command",ENABLE_EVAL_COMMAND_DESC:"Evaluate JavaScript directly from command. Be cautious when using this command as it may pose a security risk. Make sure to know what you are doing.",ENABLE_UPDATES:"Enable updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"GitHub",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install React DevTools",INSTALL_THEME:"Install Theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract font from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from custom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load Bunny from a custom endpoint.",LOAD_REACT_DEVTOOLS:"Load React DevTools",LOADER:"Loader",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staffs. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Model",OPEN_IN_BROWSER:"Open in Browser",OPERATING_SYSTEM:"Operating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin settings",PLATFORM:"Platform",PLUGIN_REFETCH_FAILED:"Failed to refetch plugin!",PLUGIN_REFETCH_SUCCESSFUL:"Successfully refetched plugin!",PLUGINS:"Plugins",REFETCH:"Refetch",RELOAD:"Reload",RELOAD_DISCORD:"Reload Discord",RELOAD_IN_NORMAL_MODE:"Reload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"This will reload Discord normally",RELOAD_IN_SAFE_MODE:"Reload in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"This will reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"Safe Mode",SAFE_MODE_NOTICE_FONTS:"You are in Safe Mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in Safe Mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in Safe Mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate Discord Experiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Messing with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Stack Trace",SUCCESSFULLY_INSTALLED:"Successfully installed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to refetch theme!",THEME_REFETCH_SUCCESSFUL:"Successfully refetched theme.",THEMES:"Themes",THEMES_RELOAD_FOR_CHANGES:"Reload the app to fully apply changes!",TOASTS_INSTALLED_PLUGIN:"Installed plugin",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}.",UH_OH:"Uh oh.",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://example.com",VERSION:"Version",VERSIONS:"Versions"}}});function is(e,n){var t=nV[e];return new nB(t).format(n)}var iu=of({"src/core/i18n/index.ts"(){af(),o7(),ii(),nB=ef("MessageFormat"),nF=null,nU=null,nk=new Set,nj={},nV=new Proxy({},{get:function(e,n){return nF&&nj[nF]?.[n]?nj[nF]?.[n]:nx[n]}})}}),ic=of({"src/lib/api/commands/types.ts"(){var e,n,t;(e=nG||(nG={}))[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER",(n=nH||(nH={}))[n.SUB_COMMAND=1]="SUB_COMMAND",n[n.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",n[n.STRING=3]="STRING",n[n.INTEGER=4]="INTEGER",n[n.BOOLEAN=5]="BOOLEAN",n[n.USER=6]="USER",n[n.CHANNEL=7]="CHANNEL",n[n.ROLE=8]="ROLE",n[n.MENTIONABLE=9]="MENTIONABLE",n[n.NUMBER=10]="NUMBER",n[n.ATTACHMENT=11]="ATTACHMENT",(t=nz||(nz={}))[t.CHAT=1]="CHAT",t[t.USER=2]="USER",t[t.MESSAGE=3]="MESSAGE"}}),il={};function id(e){return"```js\n"+e.replaceAll("`","`"+nK)+"\n```"}function i_(){return{name:"eval",description:nV.COMMAND_EVAL_DESC,shouldHide:function(){return!0===nc.enableEvalCommand},options:[{name:"code",type:nH.STRING,description:nV.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:nH.BOOLEAN,description:nV.COMMAND_EVAL_OPT_ASYNC}],async execute([e,n],t){try{var r=n$.inspect(n?.value?await nY(e.value)():eval?.(e.value)),o=r.length>2e3?r.slice(0,2e3)+"...":r;eB.sendBotMessage(t.channel.id,id(o))}catch(e){eB.sendBotMessage(t.channel.id,id(e?.stack??e))}}}}o_(il,{default:()=>i_});var im=of({"src/core/commands/eval.ts"(){iu(),ic(),aY(),af(),o7(),n$=eu("inspect"),nY=(async function(){}).constructor,nK="â€‹"}}),ip={};o_(ip,{showToast:()=>nJ});var iy=of({"src/lib/ui/toasts.ts"(){iu(),oz(),oh(),af(),o7(),nW=op(oW()),({uuid4:nX}=og(function(){return es("uuid4")})),(nJ=function(e,n){return ex.open({key:`vd-toast-${nX()}`,content:e,source:n,icon:n})}).showCopyToClipboard=function(e=nV.COPIED_TO_CLIPBOARD){("android"!==nW.Platform.OS||nW.Platform.Version<=32)&&nJ(e,R("toast_copy_link"))}}}),iE={};async function ig(){nc.safeMode={...nc.safeMode,enabled:!nc.safeMode?.enabled},aM()&&(ab()?.id&&(nc.safeMode.currentThemeId=ab().id),nc.safeMode?.enabled?await ag(null):nc.safeMode?.currentThemeId&&await ag(e9[nc.safeMode?.currentThemeId])),setTimeout(p.reload,400)}function ih(e){if(void 0!==nQ&&nQ.readyState!==WebSocket.CLOSED&&nQ.close(),!e){nJ("Invalid debugger URL!",R("Small"));return}(nQ=new WebSocket(`ws://${e}`)).addEventListener("open",function(){return nJ("Connected to debugger.",R("Check"))}),nQ.addEventListener("message",function(e){try{(0,eval)(e.data)}catch(e){console.error(e)}}),nQ.addEventListener("error",function(e){console.log(`Debugger error: ${e.message}`),nJ("An error occurred with the debugger connection!",R("Small"))})}function ib(){var e=g("nativeLoggingHook",globalThis,function(e){nQ?.readyState===WebSocket.OPEN&&nQ.send(JSON.stringify({message:e[0],level:e[1]})),eT.log(e[0])});return function(){nQ&&nQ.close(),e()}}function iv(){var e=window.HermesInternal.getRuntimeProperties(),n=e["OSS Release Version"],t="for RN ",r=nq.Platform.constants,o=r.reactNativeVersion;return{vendetta:{version:nZ,loader:aD()},bunny:{version:nZ,loader:{name:aD(),version:aL()}},discord:{version:_.Version,build:_.Build},react:{version:React.version,nativeVersion:n.startsWith(t)?n.substring(t.length):`${o.major}.${o.minor}.${o.patch}`},hermes:{version:n,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...nq.Platform.select({android:{os:{name:"Android",version:r.Release,sdk:r.Version}},ios:{os:{name:r.systemName,version:r.osVersion}}}),...nq.Platform.select({android:{device:{manufacturer:r.Manufacturer,brand:r.Brand,model:r.Model,codename:m.device}},ios:{device:{manufacturer:m.deviceManufacturer,brand:m.deviceBrand,model:m.deviceModel,codename:m.device}}})}}o_(iE,{connectToDebugger:()=>ih,getDebugInfo:()=>iv,patchLogHook:()=>ib,socket:()=>nQ,toggleSafeMode:()=>ig,versionHash:()=>nZ});var iS=of({"src/lib/debug.ts"(){oz(),az(),oR(),oV(),aw(),aY(),an(),iy(),nq=op(oW()),nZ="d8aed56-local"}}),iA={};function iT(){return{name:"debug",description:nV.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:nH.BOOLEAN,description:nV.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],n){var t=iv(),r=["**Bunny Debug Info**",`> Bunny: ${t.bunny.version} (${t.bunny.loader.name} ${t.bunny.loader.version})`,`> Discord: ${t.discord.version} (${t.discord.build})`,`> React: ${t.react.version} (RN ${t.react.nativeVersion})`,`> Hermes: ${t.hermes.version} (bcv${t.hermes.bytecodeVersion})`,`> System: ${t.os.name} ${t.os.version} ${t.os.sdk?`(SDK ${t.os.sdk})`:""}`.trimEnd(),`> Device: ${t.device.model} (${t.device.codename})`].join("\n");e?.value?eB.sendBotMessage(n.channel.id,r):eB.sendMessage(n.channel.id,{content:r})}}}o_(iA,{default:()=>iT});var iw=of({"src/core/commands/debug.ts"(){iu(),ic(),iS(),af()}}),iC={};function iR(){return{name:"plugins",description:nV.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:nH.BOOLEAN,description:nV.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],n){var t=Object.values(ra).sort(function(e,n){return e.manifest.name.localeCompare(n.manifest.name)}),r=t.filter(function(e){return e.enabled}).map(function(e){return e.manifest.name}),o=t.filter(function(e){return!e.enabled}).map(function(e){return e.manifest.name}),a=[`**Installed Plugins (${t.length}):**`,...r.length>0?[`Enabled (${r.length}):`,"> "+r.join(", ")]:[],...o.length>0?[`Disabled (${o.length}):`,"> "+o.join(", ")]:[]].join("\n");e?.value?eB.sendBotMessage(n.channel.id,a):eB.sendMessage(n.channel.id,{content:a})}}}o_(iC,{default:()=>iR});var iI=of({"src/core/commands/plugins.ts"(){iu(),ic(),sI(),af()}}),iO={};function iN(){var e=g("getBuiltInCommands",eP,function([e],n){if(e===nz.CHAT)return n.concat(n0.filter(function(e){return e.__bunny?.shouldHide?.()!==!1}))});return[(im(),oy(il)),(iw(),oy(iA)),(iI(),oy(iC))].forEach(function(e){return iD(e.default())}),function(){n0=[],e()}}function iD(e){var n=eP.getBuiltInCommands(nz.CHAT,!0,!1);n.sort(function(e,n){return parseInt(n.id)-parseInt(e.id)});var t=n[n.length-1];if(e.id=(parseInt(t.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=nz.CHAT,e.inputType=nG.BUILT_IN,e.displayName??=e.name,e.displayDescription??=e.description,e.options)for(var r of e.options)r.displayName??=r.name,r.displayDescription??=r.description;return b("execute",e,function(n,t){Promise.resolve(t.apply(e,n)).then(function(e){e&&"object"==typeof e&&eB.sendMessage(n[1].channel.id,e)}).catch(function(e){eT.error("Failed to execute command",e)})}),n0.push(e),function(){return n0=n0.filter(function({id:n}){return n!==e.id})}}o_(iO,{patchCommands:()=>iN,registerCommand:()=>iD});var iL=of({"src/lib/api/commands/index.ts"(){ic(),oV(),an(),af(),n0=[]}}),iP={};o_(iP,{byDisplayName:()=>et,byFilePath:()=>ea,byMutableProp:()=>ei,byName:()=>en,byProps:()=>ee,byStoreName:()=>eo,byTypeName:()=>er,common:()=>al,createFilterDefinition:()=>o9,createSimpleFilter:()=>o3,findAllExports:()=>ox,findAllModule:()=>oP,findAllModuleId:()=>oM,findByDisplayName:()=>e_,findByDisplayNameAll:()=>ep,findByDisplayNameProxy:()=>em,findByFilePath:()=>ev,findByFilePathProxy:()=>eS,findByName:()=>el,findByNameAll:()=>ed,findByNameProxy:()=>ef,findByProps:()=>es,findByPropsAll:()=>ec,findByPropsProxy:()=>eu,findByStoreName:()=>eh,findByStoreNameProxy:()=>eb,findByTypeName:()=>ey,findByTypeNameAll:()=>eg,findByTypeNameProxy:()=>eE,findExports:()=>oL,findModule:()=>oN,findModuleId:()=>oD});var iM=of({"src/metro/index.ts"(){af(),o5(),oB(),o7()}}),ix=of({"src/metro/common/components.ts"(){oh(),oB(),o7(),n1=o9(function([e],n){return n[e]&&1===Object.keys(n).length},function(e){return`bunny.metro.common.components.bySingularProp(${e})`}),n2=function(e){return oE(function(){return oL(n1(e))?.[e]})},n4=function(e){return oE(function(){return es(e)[e]})},n8=em("FluxContainer(Alert)"),n6=eu("Looks","Colors","Sizes"),n5=ef("HelpMessage"),n9=oE(function(){return es("useSafeAreaInsets").SafeAreaView}),n3=n4("ActionSheetRow"),n7=n2("Button"),n4("TwinButtons"),te=n2("IconButton"),n4("RowButton"),n4("PressableScale"),tn=n4("TableRow"),n4("TableRowIcon"),n4("TableRowTrailingText"),tt=n4("TableRowGroup"),tr=n4("TableSwitchRow"),to=n2("FormSwitch"),n2("FormRadio"),n2("FormCheckbox"),ta=n2("FormSwitch"),ti=n2("FormRadio"),n2("FormCheckbox"),ts=n4("Card"),oE(function(){return es("RedesignCompat").RedesignCompat}),tu=n4("Stack"),tc=n2("TextInput"),n4("SegmentedControl"),n4("CompatSegmentedControl"),tl=n4("FloatingActionButton"),tf=n4("ActionSheet"),td=n4("BottomSheetTitleHeader"),t_=eu("Text","LegacyText"),tm=oE(function(){return t_.Text}),tp=eu("Form","FormSection"),{Form:ty,FormArrow:tE,FormCTA:tg,FormCTAButton:th,FormCardSection:tb,FormCheckbox:tv,FormCheckboxRow:tS,FormCheckmark:tA,FormDivider:tT,FormHint:tw,FormIcon:tC,FormInput:tR,FormLabel:tI,FormRadio:tO,FormRadioGroup:tN,FormRadioRow:tD,FormRow:tL,FormSection:tP,FormSelect:tM,FormSliderRow:tx,FormSubLabel:tB,FormSwitch:tF,FormSwitchRow:tU,FormTernaryCheckBox:tk,FormText:tj,FormTitle:tV}=og(function(){return tp})}});function iB({title:e,confirmText:n,confirmColor:t,onConfirm:r,cancelText:o,placeholder:a,initialValue:i="",secureTextEntry:s}){var[u,c]=React.useState(i),[l,f]=React.useState("");function d(){Promise.resolve(r(u)).then(function(){tG.close()}).catch(function(e){f(e.message)})}return __bunny_createElement(n8,{title:e,confirmText:n,confirmColor:t,isConfirmButtonDisabled:0!==l.length,onConfirm:d,cancelText:o,onCancel:function(){return tG.close()}},__bunny_createElement(tR,{placeholder:a,value:u,onChange:function(e){c("string"==typeof e?e:e.text),l&&f("")},returnKeyType:"done",onSubmitEditing:d,error:l||void 0,secureTextEntry:s,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}}))}var iF=of({"src/lib/ui/components/InputAlert.tsx"(){ix(),o7(),tG=eu("openLazy","close")}}),iU={};function ik(e){return e.body=e.content,delete e.content,e.isDismissable??=!0,tH.show(e)}o_(iU,{showConfirmationAlert:()=>ik,showCustomAlert:()=>tz,showInputAlert:()=>t$});var ij=of({"src/lib/ui/alerts.ts"(){o7(),iF(),tH=eu("openLazy","close"),tz=function(e,n){return tH.openLazy({importer:async function(){return function(){return React.createElement(e,n)}}})},t$=function(e){return tz(iB,e)}}}),iV={};function iG(e){return tX.isSemanticColor(e)}function iH(e,n=tW.theme){return tX.resolveSemanticColor(n,e)}o_(iV,{isSemanticColor:()=>iG,rawColors:()=>tK,resolveSemanticColor:()=>iH,semanticColors:()=>tY});var iz=of({"src/lib/ui/color.ts"(){aw(),af(),o7(),tY=eZ?.default?.colors??eC?.ThemeColorMap,tK=eZ?.default?.unsafe_rawColors??eC?.Colors,tW=eb("ThemeStore"),tX=eZ.default.meta??=eZ.default.internal}}),i$={};function iY(e){return oE(function(){return tq.createStyles(e)})}function iK(e){for(var n in e)e[n]=new Proxy(tJ.StyleSheet.flatten(e[n]),{get(e,n,t){var r=Reflect.get(e,n,t);return iG(r)?iH(r):r}});return e}o_(i$,{TextStyleSheet:()=>tQ,createStyles:()=>iY,createThemedStyleSheet:()=>iK});var iW=of({"src/lib/ui/styles.ts"(){oh(),o7(),iz(),tJ=op(oW()),tq=eu("createStyles"),{TextStyleSheet:tQ}=og(function(){return es("TextStyleSheet")})}});function iX({selectable:e,style:n,children:t}){return e?tZ.Platform.select({ios:__bunny_createElement(t1,{style:n,children:t}),default:__bunny_createElement(t2,{style:n,children:t,selectable:!0})}):__bunny_createElement(t2,{style:n,children:t})}var iJ=of({"src/lib/ui/components/Codeblock.tsx"(){af(),iz(),iW(),tZ=op(oW()),t0=iY({codeBlock:{fontFamily:eC.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:tY.BACKGROUND_SECONDARY,color:tY.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:tY.BACKGROUND_TERTIARY,padding:10}}),t1=function({style:e,children:n}){return __bunny_createElement(tZ.TextInput,{editable:!1,multiline:!0,style:[t0().codeBlock,e&&e],value:n})},t2=function({selectable:e,style:n,children:t}){return __bunny_createElement(tZ.Text,{selectable:e,style:[t0().codeBlock,n&&n]},t)}}});function iq(e){var n=React.useRef(null);return React.useEffect(function(){if("android"===t4.Platform.OS){var e=n.current?._children?.[0]?._nativeTag;return function(){if(e)var n=b("setAccessibilityFocus",t4.AccessibilityInfo,function([t],r){if(t!==e)return r.apply(t4.AccessibilityInfo,[t]);n()})}}},[]),__bunny_createElement(t4.View,{ref:n},__bunny_createElement(t8,e))}var iQ=of({"src/lib/ui/components/ContextMenu.tsx"(){oV(),oh(),o7(),t4=op(oW()),{ContextMenu:t8}=og(function(){return es("ContextMenu")})}});function iZ(e,n){if(!(e instanceof n))throw TypeError("Cannot call a class as a function")}var i0=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_class_call_check.js"(){}});function i1(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i2(e,n,t){return n&&i1(e.prototype,n),t&&i1(e,t),e}var i4=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_create_class.js"(){}}),i8=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_define_property.js"(){}});function i6(e,n){return(i6=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var i5=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_set_prototype_of.js"(){}});function i9(e,n){if("function"!=typeof n&&null!==n)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&i6(e,n)}var i3=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_inherits.js"(){i5()}});function i7(e){return(i7=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_get_prototype_of.js"(){}});function sn(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var st=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_is_native_reflect_construct.js"(){}}),sr=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_assert_this_initialized.js"(){}}),so=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_type_of.js"(){}}),sa=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_possible_constructor_return.js"(){sr(),so()}});function si(e){var n=sn();return function(){var t,r=i7(e);return t=n?Reflect.construct(r,arguments,i7(this).constructor):r.apply(this,arguments),t&&("object"==(t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)||"function"==typeof t)?t:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}}var ss=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_create_super.js"(){se(),st(),sa()}}),su=of({"src/lib/ui/components/ErrorBoundary.tsx"(){var e,n,t;i0(),i4(),i8(),i3(),ss(),iu(),af(),ix(),sp(),iW(),t6=op(oW()),t5=iK({view:{flex:1,flexDirection:"column",margin:10},title:{fontSize:20,textAlign:"center",marginBottom:5}}),e=t9=function(e){i9(t,e);var n=si(t);function t(e){var r;return iZ(this,t),(r=n.call(this,e)).state={hasErr:!1},r}return i2(t,[{key:"render",value:function(){var e=this;return this.state.hasErr?__bunny_createElement(t6.ScrollView,{style:t5.view},__bunny_createElement(tj,{style:t5.title},nV.UH_OH),__bunny_createElement(iX,{selectable:!0,style:{marginBottom:5}},this.state.error.name),__bunny_createElement(iX,{selectable:!0,style:{marginBottom:5}},this.state.error.message),this.state.error.stack&&__bunny_createElement(t6.ScrollView,{style:{maxHeight:420,marginBottom:5}},__bunny_createElement(iX,{selectable:!0},this.state.error.stack)),__bunny_createElement(n7,{size:"md",variant:"destructive",onPress:function(){return e.setState({hasErr:!1})},text:nV.RETRY})):this.props.children}}]),t}(e$.Component),n="getDerivedStateFromError",t=function(e){return{hasErr:!0,error:e}},n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}});function sc(){return __bunny_createElement(t3.Image,{style:{width:16,height:16},source:R("search")})}function sl({onChangeText:e,placeholder:n,style:t}){var[r,o]=React.useState("");return __bunny_createElement(t9,null,__bunny_createElement(t3.View,{style:t},__bunny_createElement(tc,{grow:!0,isClearable:!0,leadingIcon:sc,placeholder:n??nV.SEARCH,onChange:function(n){o(n),e?.(n)},returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,value:r})))}var sf=of({"src/lib/ui/components/Search.tsx"(){iu(),oz(),ix(),su(),t3=op(oW())}});function sd({label:e,icon:n,noPadding:t=!1,noAnimation:r=!1,children:o}){var[a,i]=React.useState(!0);return __bunny_createElement(React.Fragment,null,__bunny_createElement(tn,{label:e,icon:n&&__bunny_createElement(tn.Icon,{source:R(n)}),trailing:__bunny_createElement(tL.Arrow,{style:{transform:[{rotate:`${a?180:90}deg`}]}}),onPress:function(){i(!a),r||t7.LayoutAnimation.configureNext(t7.LayoutAnimation.Presets.easeInEaseOut)}}),!a&&__bunny_createElement(React.Fragment,null,__bunny_createElement(t7.View,{style:!t&&{paddingHorizontal:15}},o)))}var s_=of({"src/lib/ui/components/Summary.tsx"(){oz(),ix(),t7=op(oW())}}),sm={};o_(sm,{Codeblock:()=>iX,ContextMenu:()=>iq,ErrorBoundary:()=>t9,Search:()=>sl,Summary:()=>sd});var sp=of({"src/lib/ui/components/index.ts"(){iJ(),iQ(),su(),sf(),s_()}}),sy=od({"glob-react:react"(e,n){Object.defineProperty(n,"exports",{get:()=>globalThis.React})}});async function sE(e){return{...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:await oZ(U(e.id))},logger:new eA(`Bunny \xbb ${e.manifest.name}`)}}var sg=of({"src/core/polyfills/vendettaObject.tsx"(){oz(),iL(),az(),oV(),o1(),o1(),iS(),sI(),aw(),aY(),ac(),an(),iM(),af(),ix(),ix(),ij(),iz(),sp(),iW(),iy(),re=op(sy()),rn=op(oW()),rt=function(){var e=window.vendetta={patcher:{before:v.before,after:v.after,instead:v.instead},metro:{modules:window.modules,find:function(e){return oL(o3(e,ro(Error().stack)))},findAll:function(e){return ox(o3(e,ro(Error().stack)))},findByProps:function(...e){1===e.length&&"KeyboardAwareScrollView"===e[0]&&e.push("listenToKeyboardEvents");var n=es(...e);if(null==n&&e.includes("ActionSheetTitleHeader")){var t=es("ActionSheetRow");return{...t,ActionSheetTitleHeader:t.BottomSheetTitleHeader,ActionSheetContentContainer:function({children:e}){return(0,re.useEffect)(function(){return console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View")},[]),(0,re.createElement)(rn.View,null,e)}}}return n},findByPropsAll:function(...e){return ec(...e)},findByName:function(e,n){return"create"===e&&void 0===n?el("create",!1).default:el(e,n??!0)},findByNameAll:function(e,n=!0){return ed(e,n)},findByDisplayName:function(e,n=!0){return e_(e,n)},findByDisplayNameAll:function(e,n=!0){return ep(e,n)},findByTypeName:function(e,n=!0){return ey(e,n)},findByTypeNameAll:function(e,n=!0){return eg(e,n)},findByStoreName:function(e){return eh(e)},common:{constants:eC,channels:eR,i18n:eI,url:eO,toasts:ex,stylesheet:{createThemedStyleSheet:iK},clipboard:eN,assets:eD,invites:eL,commands:eP,navigation:eM,navigationStack:eF,NavigationNative:eU,Flux:eH,FluxDispatcher:ez,React:e$,ReactNative:eY,moment:eK,chroma:eW,lodash:eX,util:eq}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:function(e,n){return Q(e,n)},findInTree:function(e,n,t){return Z(e,n,t)},safeFetch:function(e,n,t){return at(e,n,t)},unfreeze:function(e){return Object.isFrozen(e)?{...e}:e},without:function(e,...n){return ai(e,...n)}},debug:{connectToDebugger:function(e){return ih(e)},getDebugInfo:function(){return iv()}},ui:{components:{Forms:tp,General:eY,Alert:n8,Button:n6,HelpMessage:function(...e){return __bunny_createElement(n5,e)},SafeAreaView:function(...e){return __bunny_createElement(n9,e)},Summary:sd,ErrorBoundary:t9,Codeblock:iX,Search:sl},toasts:{showToast:function(e,n){return nJ(e,n)}},alerts:{showConfirmationAlert:function(e){return ik(e)},showCustomAlert:function(e,n){return tz(e,n)},showInputAlert:function(e){return t$(e)}},assets:{all:S,find:function(e){return T(e)},getAssetByName:function(e){return w(e)},getAssetByID:function(e){return C(e)},getAssetIDByName:function(e){return R(e)}},semanticColors:tY,rawColors:tK},plugins:{plugins:ra,fetchPlugin:function(e){return sv(e)},installPlugin:function(e,n){return sS(e,n)},startPlugin:function(e){return sT(e)},stopPlugin:function(e,n){return sw(e,n)},removePlugin:function(e){return sC(e)},getSettings:function(e){return ru(e)}},themes:{themes:e9,fetchTheme:function(e,n){return ay(e,n)},installTheme:function(e){return aE(e)},selectTheme:function(e){return ag("default"===e?null:e9[e])},removeTheme:function(e){return ah(e)},getCurrentTheme:function(){return ab()},updateThemes:function(){return av()}},commands:{registerCommand:iD},storage:{createProxy:function(e){return oq(e)},useProxy:function(e){return oQ(e)},createStorage:function(e){return oZ(e)},wrapSync:function(e){return o0(e)},awaitSyncWrapper:function(e){return G(e)},createMMKVBackend:function(e){return U(e)},createFileBackend:function(e){return aI()&&"vendetta_theme.json"===e&&(e="pyoncord/current-theme.json"),k(e)}},settings:nc,loader:{identity:aN()??void 0,config:nl},logger:{log:function(...e){return console.log(...e)},info:function(...e){return console.info(...e)},warn:function(...e){return console.warn(...e)},error:function(...e){return console.error(...e)},time:function(...e){return console.time(...e)},trace:function(...e){return console.trace(...e)},verbose:function(...e){return console.log(...e)}},version:nZ,unload:function(){delete window.vendetta}};return function(){return e.unload()}},rr=function(e,n=0){for(var t,r=3735928559^n,o=1103547991^n,a=0;a<e.length;a++)r=Math.imul(r^(t=e.charCodeAt(a)),2654435761),o=Math.imul(o^t,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(o^o>>>13,3266489909),[(o=Math.imul(o^o>>>16,2246822507)^Math.imul(r^r>>>13,3266489909))>>>0,r>>>0]},ro=function(e,n=0){var[t,r]=rr(e,n);return t.toString(36).padStart(7,"0")+r.toString(36).padStart(7,"0")}}}),sh={};async function sb(e){return e.startsWith($)&&(e=e.replace($,Y)),await at(e,{cache:"no-store"})}async function sv(e){e.endsWith("/")||(e+="/");var n,t,r=ra[e];try{n=await (await sb(e+"manifest.json")).json()}catch(n){throw Error(`Failed to fetch manifest for ${e}`)}if(r?.manifest.hash!==n.hash)try{t=await (await sb(e+(n.main||"index.js"))).text()}catch(e){}if(!t&&!r)throw Error(`Failed to fetch JS for ${e}`);ra[e]={id:e,manifest:n,enabled:r?.enabled??!1,update:r?.update??!0,js:t??r.js,error:r?.error}}async function sS(e,n=!0){if(e.endsWith("/")||(e+="/"),"string"!=typeof e||e in ra)throw Error("Plugin already installed");await sv(e),n&&await sT(e)}async function sA(e){var n=await sE(e),t=(0,eval)(`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}?hash=${e.manifest.hash}`)(n),r="function"==typeof t?t():t;return r?.default??r??{}}async function sT(e){e.endsWith("/")||(e+="/");var n=ra[e];if(!n)throw Error("Attempted to start non-existent plugin");try{if(!nc.safeMode?.enabled){var t=await sA(n);ri[e]=t,t.onLoad?.()}delete n.error,n.enabled=!0}catch(t){eT.error(`Plugin ${n.id} errored whilst loading, and will be unloaded`,t),n.error=t instanceof Error?t.stack:String(t);try{ri[n.id]?.onUnload?.()}catch(e){eT.error(`Plugin ${n.id} errored whilst unloading`,e)}delete ri[e],n.enabled=!1}}function sw(e,n=!0){e.endsWith("/")||(e+="/");var t=ra[e],r=ri[e];if(!t)throw Error("Attempted to stop non-existent plugin");if(!nc.safeMode?.enabled){try{r?.onUnload?.()}catch(e){eT.error(`Plugin ${t.id} errored whilst unloading`,e)}delete ri[e]}n&&(t.enabled=!1)}async function sC(e){e.endsWith("/")||(e+="/"),ra[e].enabled&&sw(e),delete ra[e],await F(e)}async function sR(){await G(nc),await G(ra);var e=Object.keys(ra);return nc.safeMode?.enabled||(await D(e.filter(function(e){return ra[e].enabled}).map(async function(e){return ra[e].update&&await sv(e).catch(function(e){return eT.error(e.message)}),await sT(e)})),e.filter(function(e){return!ra[e].enabled&&ra[e].update}).forEach(function(e){return sv(e)})),rs}o_(sh,{evalPlugin:()=>sA,fetchPlugin:()=>sv,getSettings:()=>ru,initPlugins:()=>sR,installPlugin:()=>sS,plugins:()=>ra,removePlugin:()=>sC,startPlugin:()=>sT,stopPlugin:()=>sw});var sI=of({"src/lib/managers/plugins.ts"(){o$(),sg(),o1(),aY(),ac(),o4(),an(),ra=o0(oZ(U("VENDETTA_PLUGINS"))),ri={},rs=function(){return Object.keys(ri).forEach(function(e){return sw(e,!1)})},ru=function(e){return ri[e]?.settings}}}),sO=of({"src/core/plugins/quickInstall/forumPost.tsx"(){iu(),oz(),az(),oV(),o1(),sI(),aw(),o4(),oh(),ix(),o7(),sp(),iy(),({useFirstForumPostMessage:rc}=og(function(){return es("useFirstForumPostMessage")})),rl=eu("MostCommonForumPostReaction"),rf={Plugin:{storage:ra,urlsFilter:function(e){return e.startsWith($)},installOrRemove:function(e){return rf.Plugin.storage[e]?sC(e):sS(e)}},Theme:{storage:e9,urlsFilter:function(e){return e.endsWith(".json")},installOrRemove:function(e){return rf.Theme.storage[e]?ah(e):aE(e)}}},rd=function(){return g("MostCommonForumPostReaction",rl,function([{thread:e,firstMessage:n}],t){var[r,o,a,i,s]=function(e,n=null,t=!1){var[r,o]=function(e,n=null,t=!1){if(e.guild_id===X){if(e.parent_id===J)r="Plugin";else{if(!(e.parent_id===q&&aM()))return;r="Theme"}var r,{firstMessage:o}=t?rc(e):{firstMessage:n},a=o?.content?.match(W)?.filter(rf[r].urlsFilter);if(a&&a[0])return"Plugin"!==r||a[0].endsWith("/")||(a[0]+="/"),[r,a[0]]}}(e,n,t)??[];oQ(ra),oQ(e9);var[a,i]=React.useState(!1);if(!r||!o)return[!0];var s=!!rf[r].storage[o],u=async function(){i(!0);try{await rf[r].installOrRemove(o)}catch(e){nJ(e.message,R("Small"))}finally{i(!1)}};return[!1,r,s,a,u]}(e,n,!0);if(!r)return __bunny_createElement(React.Fragment,null,t,__bunny_createElement(t9,null,__bunny_createElement(n7,{size:"sm",loading:i,disabled:i,variant:a?"secondary":"primary",text:a?nV.UNINSTALL:nV.INSTALL,onPress:s,icon:R(a?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})))})}}});function sN(e){return e.startsWith($)?"plugin":e.endsWith(".json")&&aM()?"theme":void 0}function sD(e,n){("plugin"===e?sS:aE)(n).then(function(){nJ(nV.SUCCESSFULLY_INSTALLED,R("Check"))}).catch(function(e){nJ(e.message,R("Small"))})}var sL=of({"src/core/plugins/quickInstall/url.tsx"(){iu(),oz(),az(),oV(),sI(),aw(),o4(),oh(),af(),o5(),oB(),o7(),ij(),iy(),r_=oL(ei("showSimpleActionSheet")),rm=eu("handleClick"),({openURL:rp}=og(function(){return eO})),({getChannelId:ry}=og(function(){return eR})),{getChannel:rE}=og(function(){return es("getChannel")})}}),sP={};function sM(){var e,n,t=[];return t.push((e=[rd()],function(){return e.map(function(e){return e()})})),t.push(((n=[]).push(g("showSimpleActionSheet",r_,function(e){if("LongPressUrl"===e[0].key){var{header:{title:n},options:t}=e[0],r=sN(n);r&&t.push({label:nV.INSTALL_ADDON,onPress:function(){return sD(r,n)}})}})),n.push(b("handleClick",rm,async function(e,n){var{href:t}=e[0],r=sN(t);if(!r||"theme"===r&&rE(ry())?.parent_id!==q)return n.apply(this,e);ik({title:nV.HOLD_UP,content:is("CONFIRMATION_LINK_IS_A_TYPE",{urlType:r}),onConfirm:function(){return sD(r,t)},confirmText:nV.INSTALL,cancelText:nV.CANCEL,secondaryConfirmText:nV.OPEN_IN_BROWSER,onConfirmSecondary:function(){return rp(t)}})})),function(){return n.forEach(function(e){return e()})})),function(){return t.forEach(function(e){return e()})}}o_(sP,{default:()=>sM});var sx=of({"src/core/plugins/quickInstall/index.ts"(){sO(),sL()}}),sB=of({"src/core/plugins/index.ts"(){}}),sF=of({"src/assets/icons/pyoncord.png"(){rg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAABoBJREFUeF7lW1nIVlUUXasom80kijJKaVQzGtTUjCJteNBmeqigssnIpDIqwmw0GqhQi4iw8SEaHtKgMpNKM7SiyUZpLppoTi0rd2f9nCu36/2+79zxv/5t8MV/n333WWefffb0EQ0iM+sH4AEAowG8CGAqycVVqsgqhWeVbWavAtg/tu4vABNIPphVVih/YwAws2EAlrRQfChJgVM6NQmARwGc0GKHX5PcofTdA2gSAJ8A2KXNJueQPLpsEJoEwI8A+rTZ4GrnIAeQ/KpMEJoEwCoAm3TY3DKSezcKADPbCMDWADYEIK/9B4CVJC2LomYWwv8PgC1JCqxSqJAFmNlOAF6PAfA3ACn3MYBLSD4bqmUgABI3l+T4ULmd+IoCcDeAs9p8RI5NPDNJrminTAYAZAVbkJSlFaaiALwJYEiAFh8CuJHk7Fa8ZqaNbRAgSyzjSc4N5G3LVhQAmfiYDIosBXAGyXeSa8xMJ9orUNb7AAZm9TNpsosCMNnd/9sDlY7Y/gRwAYDZJOUzusjMfvK+JFRcX5J6OgtRUQB2B/BBDg3k8ZeQHBED4AsASoZCaTTJRaHMrfiKAqD1jwM4NqcinwE4mOTnZiYgBWgozSN5RChzJQB40x0A4KMCivwO4GQAFwI4JIMcRYa9i74GhSwgZr5XuWs8LYPyaazPAMh6ojvLeop8tywA5L0V/FSSsbXZ4Eh3DV7udgD8VdgMwK8+JC6iU5a115GcmmVBkrcUC4hdhYPcPX6+RhAWkDysMQB4SzgXwB0Zoroi+q8iKcvLTaVaQMwSZgGYWBMIfUj+nBeBSgDwljADwHk1XIdCL0FlAMRAOL/i0tsgku82zgI8AMruLgNwfV4FA9btQ/KtAL5UlkotIOYTjgdwr6o5eRVts244SWWZuagWALw1DFUGCGBwLk1bLxpG8pW8MmsDwIPQ25W+7wNwTF6FU9bJ2U7L+xLUCkDsSij5keLblASEagmjSL6XVV63AOCtQSVw3d2yytxr3JN7LUklZsHUnQAMcnUE1RRVTi+TXgIwjqSsoiN1CwBmtqvzA28A2LyjhvkYlCKr9vhcp+W1A2BmewB4AcB2nZQr+Hc1aaaQlK9pSbUC4E9eLfCynF8IRoo/JpJUMXYdqgUAM9N3RgFYGKJxDh71FK5WAwbAvgAeShRnPgWwZxoIdQFwEwCV0DfOsbmQJWPi993MZGGqMsdT5e9VdE3GC5UCYGY69ehUQjaSh0dv/5B4j0FCXJ8hrWexHMAIkj9EH6oEADNTZUjNj+MqeOaSIM0nOTb5n2amStH8FEQVNh8eWcJaAHybe7gfU9kLgEzmbd/91VCCujArXdd3hdA2M73fKobKzDTYIK+uRsel7tT75jnKnGvUUtuWpMrra8nMNG12aguZatjKMa7pAsDMtnK9tkdylKVz6lz6snsATFKPwB+M+gtppx//sBoyCyMAkuNppWtYg0CVxeT4tvfPbKcI8zHXpD2RZnaOW3RXDQo27ROrSfYSAGowylv/30iR4qYCQBFSVe9zk0Fd5GKH0QJAPfpO96XJG8mjmyJHOcHFAuA1APvlkbIerzmN5P3SXwBc7IaOblmPN5NVdaXK/RUDRACoTqcOq4KfptA37l1XuKpma0QKrlQ/2LEEJY8i+XQXAD4Q6u+uwZwKKrbtdNWYjMboNDClf0qTl+ktb5W6RsLMbDc/naZK80Cvt/YQSvruYJIr46GwanQTAJzph5Y1/Vk2aVZQCck8xR4kpUgpZGYCQDHNOK9/p6bpRSRvS02GzEx1tZGlaAbopH8DcDnJO0uS2VaMmWnzk1xz9hrXldIob9o+ldf0W+cPZiafkLvbmtDsSY3MytQ7mXUVwJiZrFozTKoK6QcZSVrXAszsSABPFVRIs4MzyjTxgvoo4TsAwCm+Yy2rEC1PswC9CAfm+KBMSsWPW0l+l2N9LUt8UfYKf8Vn/gcAM9MT82VGTeTYngBwdqeB6Ixya2FPAnCSKx4+HPhlBRJ6vsaS/DZwTePYkgCozx7SqpJXl69YmqzFNW6HHRSKxwGhc79XApgV2npqOiBxAE73/ftWOquRqbJT7mGEJoIRhcIaZVGjMm14QT+BucHVDKa7oUSlkT2KIgAUT6/zIwbXYFTmpLxZU909kiIAprhM6+bEDqf7Hy93pY09lSIAFriO7aF+k7/4aYs0i+hxOEQAqIGgNrJ+iDS5p3j4kNP6F9f7+CyBdXonAAAAAElFTkSuQmCC"}});function sU(e,n,t,r,o){return async function(){if(e)return void e();var a=await t().then(function(e){return e.default});"string"==typeof r&&(r={title:r}),(n??=rh.getRootNavigationRef()).navigate("VendettaCustomPage",{...r,render:function(){return __bunny_createElement(a,o)}})}}var sk=of({"src/lib/ui/settings/patches/shared.tsx"(){af(),o7(),sp(),rh=eu("getRootNavigationRef"),rb=React.memo(function(){var e=eU.useNavigation(),{render:n,...t}=eU.useRoute().params;return React.useEffect(function(){e.setOptions({...t})},[]),__bunny_createElement(t9,null,__bunny_createElement(n,null))})}});function sj(){var e=eU.useNavigation();return __bunny_createElement(React.Fragment,null,Object.keys(rA).map(function(n){return __bunny_createElement(tP,{key:n,title:n},rA[n].filter(function(e){return e.usePredicate?.()??!0}).map(function(n){return __bunny_createElement(tL,{label:n.title(),leading:__bunny_createElement(tC,{source:n.icon}),trailing:tL.Arrow,onPress:sU(n.onPress,e,n.render,n.title())})}))}))}var sV=of({"src/lib/ui/settings/patches/panel.tsx"(){oV(),ac(),af(),ix(),o7(),sY(),sk()}}),sG=of({"src/lib/ui/settings/patches/tabs.tsx"(){oV(),ac(),af(),o7(),sY(),sk(),rv=eu("SETTING_RENDERER_CONFIG"),rS=ef("SettingsOverviewScreen",!1)}}),sH={};function sz(e){return rA[e.name]=e.items,function(){return delete rA[e.name]}}function s$(){var e,n,t=[];return!function(e){e.push(g("default",ef("getScreens",!1),function(e,n){return{...n,VendettaCustomPage:{title:"Bnuuy",render:function(){return __bunny_createElement(rb,null)}}}}));var n=g("default",ef("UserSettingsOverviewWrapper",!1),function(n,t){var r=Q(t.props.children,function(e){return e.type?.name==="UserSettingsOverview"});e.push(g("renderSupportAndAcknowledgements",r.type.prototype,function(e,{props:{children:n}}){var t=n.findIndex(function(e){return e?.type?.name==="UploadLogsButton"});-1!==t&&n.splice(t,1)})),e.push(g("render",r.type.prototype,function(e,n){var t=[eI.Messages.BILLING_SETTINGS,eI.Messages.PREMIUM_SETTINGS],r=Q(n.props.children,function(e){return e?.children?.[1]?.type===tP})?.children;if(r){var o=r.findIndex(function(e){return t.includes(e?.props.label)});r.splice(-~o||4,0,__bunny_createElement(sj,null))}}))},!0);e.push(n)}(t),e=rv.SETTING_RENDERER_CONFIG,n=rv.SETTING_RENDERER_CONFIG,Object.defineProperty(rv,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:function(){return{...n,VendettaCustomPage:{type:"route",title:function(){return"Bunny"},screen:{route:"VendettaCustomPage",getComponent:function(){return rb}}},...Object.values(rA).flatMap(function(e){return e.map(function(e){return{[e.key]:{type:"pressable",title:e.title,icon:e.icon,usePredicate:e.usePredicate,onPress:sU(e.onPress,null,e.render,e.title()),withArrow:!0,...e.rawTabsConfig}}})}).reduce(function(e,n){return Object.assign(e,n)})}},set:function(e){return n=e}}),t.push(function(){Object.defineProperty(rv,"SETTING_RENDERER_CONFIG",{value:e,writable:!0,get:void 0,set:void 0})}),t.push(g("default",rS,function(e,n){var t;if(t=!1,React.useEffect(function(){t=!0},[]),!t){var{sections:r}=Q(n,function(e){return e.props?.sections}).props,o=-~r.findIndex(function(e){return e.label===eI.Messages.ACCOUNT_SETTINGS})||1;Object.keys(rA).forEach(function(e){r.splice(o++,0,{label:e,title:e,settings:rA[e].map(function(e){return e.key})})})}})),function(){return t.forEach(function(e){return e()})}}o_(sH,{patchSettings:()=>s$,registerSection:()=>sz,registeredSections:()=>rA});var sY=of({"src/lib/ui/settings/index.tsx"(){sV(),sG(),rA={}}});function sK({label:e,version:n,icon:t}){return __bunny_createElement(tn,{label:e,icon:__bunny_createElement(tn.Icon,{source:R(t)}),trailing:__bunny_createElement(tj,null,n),onPress:function(){eN.setString(`${e} - ${n}`),nJ.showCopyToClipboard()}})}var sW=of({"src/core/ui/settings/pages/General/Version.tsx"(){oz(),af(),ix(),iy()}});function sX(){var e=iv();oQ(nc);var n=[{label:nV.BUNNY,version:e.bunny.version,icon:"ic_progress_wrench_24px"},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ic_category_16px"},{label:"React Native",version:e.react.nativeVersion,icon:"mobile"},{label:nV.BYTECODE,version:e.hermes.bytecodeVersion,icon:"ic_server_security_24px"}],t=[{label:nV.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"ic_download_24px"},{label:nV.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ic_cog_24px"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"pencil"}]:[],{label:nV.MANUFACTURER,version:e.device.manufacturer,icon:"ic_badge_staff"},{label:nV.BRAND,version:e.device.brand,icon:"ic_settings_boost_24px"},{label:nV.MODEL,version:e.device.model,icon:"ic_phonelink_24px"},{label:rT.Platform.select({android:nV.CODENAME,ios:nV.MACHINE_ID}),version:e.device.codename,icon:"ic_compose_24px"}];return __bunny_createElement(rT.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},__bunny_createElement(tu,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},__bunny_createElement(tt,{title:nV.VERSIONS},n.map(function(e){return __bunny_createElement(sK,{label:e.label,version:e.version,icon:e.icon})})),__bunny_createElement(tt,{title:nV.PLATFORM},t.map(function(e){return __bunny_createElement(sK,{label:e.label,version:e.version,icon:e.icon})}))))}var sJ=of({"src/core/ui/settings/pages/General/About.tsx"(){iu(),sW(),o1(),iS(),aY(),ix(),rT=op(oW())}}),sq={};function sQ(){oQ(nc);var e=iv(),n=eU.useNavigation();return __bunny_createElement(rw.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},__bunny_createElement(tu,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},__bunny_createElement(tt,{title:nV.INFO},__bunny_createElement(tn,{label:nV.BUNNY,icon:__bunny_createElement(tn.Icon,{source:{uri:rg}}),trailing:__bunny_createElement(tn.TrailingText,{text:e.bunny.version})}),__bunny_createElement(tn,{label:"Discord",icon:__bunny_createElement(tn.Icon,{source:R("Discord")}),trailing:__bunny_createElement(tn.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),__bunny_createElement(tn,{arrow:!0,label:nV.ABOUT,icon:__bunny_createElement(tn.Icon,{source:R("CircleInformationIcon-primary")}),trailing:tn.Arrow,onPress:function(){return n.push("VendettaCustomPage",{title:nV.ABOUT,render:function(){return __bunny_createElement(sX,null)}})}})),__bunny_createElement(tt,{title:nV.LINKS},__bunny_createElement(tn,{label:nV.DISCORD_SERVER,icon:__bunny_createElement(tn.Icon,{source:R("Discord")}),trailing:tn.Arrow,onPress:function(){return eO.openDeeplink(H)}}),__bunny_createElement(tn,{label:nV.GITHUB,icon:__bunny_createElement(tn.Icon,{source:R("img_account_sync_github_white")}),trailing:tn.Arrow,onPress:function(){return eO.openURL(z)}})),__bunny_createElement(tt,{title:nV.ACTIONS},__bunny_createElement(tn,{label:nV.RELOAD_DISCORD,icon:__bunny_createElement(tn.Icon,{source:R("ic_message_retry")}),onPress:function(){return rw.NativeModules.BundleUpdaterManager.reload()}}),__bunny_createElement(tn,{label:nc.safeMode?.enabled?nV.RELOAD_IN_NORMAL_MODE:nV.RELOAD_IN_SAFE_MODE,subLabel:nc.safeMode?.enabled?nV.RELOAD_IN_NORMAL_MODE_DESC:nV.RELOAD_IN_SAFE_MODE_DESC,icon:__bunny_createElement(tn.Icon,{source:R("ic_privacy_24px")}),onPress:ig}),__bunny_createElement(tr,{label:nV.DEVELOPER_SETTINGS,icon:__bunny_createElement(tn.Icon,{source:R("ic_progress_wrench_24px")}),value:nc.developerSettings,onValueChange:function(e){nc.developerSettings=e}})),__bunny_createElement(tt,{title:nV.MISCELLANEOUS},__bunny_createElement(tr,{label:nV.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:nV.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:__bunny_createElement(tn.Icon,{source:R("ic_progress_wrench_24px")}),value:nc.enableDiscordDeveloperSettings,onValueChange:function(e){nc.enableDiscordDeveloperSettings=e}}))))}o_(sq,{default:()=>sQ});var sZ=of({"src/core/ui/settings/pages/General/index.tsx"(){iu(),u8(),sJ(),oz(),o1(),iS(),aY(),o4(),af(),ix(),rw=op(oW())}});function s0(e,n,t){return(s0=sn()?Reflect.construct:function(e,n,t){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return t&&i6(o,t.prototype),o}).apply(null,arguments)}var s1=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_construct.js"(){st(),i5()}}),s2=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_is_native_function.js"(){}});function s4(e){var n="function"==typeof Map?new Map:void 0;return(s4=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return s0(e,arguments,i7(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i6(t,e)})(e)}var s8=of({"node_modules/.pnpm/@swc+helpers@0.5.11/node_modules/@swc/helpers/esm/_wrap_native_super.js"(){s1(),se(),s2(),i5()}}),s6=od({"node_modules/.pnpm/fuzzysort@3.0.1/node_modules/fuzzysort/fuzzysort.js"(e,n){var t;i0(),i4(),i3(),s8(),ss(),t=function(e){var n,t,r,o,a=function(e,n="<b>",t="</b>"){for(var r="function"==typeof n?n:void 0,o=e.target,a=o.length,i=e.indexes,s="",u=0,c=0,l=!1,f=[],d=0;d<a;++d){var _=o[d];if(i[c]===d){if(++c,l||(l=!0,r?(f.push(s),s=""):s+=n),c===i.length){r?(s+=_,f.push(r(s,u++)),s="",f.push(o.substr(d+1))):s+=_+t+o.substr(d+1);break}}else l&&(l=!1,r?(f.push(r(s,u++)),s=""):s+=t);s+=_}return r?f:s},i=function(e){"number"==typeof e?e=""+e:"string"!=typeof e&&(e="");var n=g(e);return c(e,{_targetLower:n._lower,_targetLowerCodes:n.lowerCodes,_bitflags:n.bitflags})},s=function(){function e(){iZ(this,e)}return i2(e,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort(function(e,n){return e-n})}},{key:"indexes",set:function(e){return this._indexes=e}},{key:"highlight",value:function(e,n){return a(this,e,n)}},{key:"score",get:function(){return l(this._score)}},{key:"score",set:function(e){this._score=f(e)}}]),e}(),u=function(e){i9(t,e);var n=si(t);function t(){return iZ(this,t),n.apply(this,arguments)}return i2(t,[{key:"score",get:function(){return l(this._score)}},{key:"score",set:function(e){this._score=f(e)}}]),t}(s4(Array)),c=function(e,n){var t=new s;return t.target=e,t.obj=n.obj??x,t._score=n._score??P,t._indexes=n._indexes??[],t._targetLower=n._targetLower??"",t._targetLowerCodes=n._targetLowerCodes??x,t._nextBeginningIndexes=n._nextBeginningIndexes??x,t._bitflags=n._bitflags??0,t},l=function(e){return e===P?0:e>1?e:Math.E**-(((-e+1)**.04307-1)*2)},f=function(e){return 0===e?P:e>1?e:1-Math.pow(-(Math.log(e)/2)+1,1/.04307)},d=function(e){"number"==typeof e?e=""+e:"string"!=typeof e&&(e="");var n=g(e=e.trim()),t=[];if(n.containsSpace){var r=e.split(/\s+/);r=[...new Set(r)];for(var o=0;o<r.length;o++)if(""!==r[o]){var a=g(r[o]);t.push({lowerCodes:a.lowerCodes,_lower:r[o].toLowerCase(),containsSpace:!1})}}return{lowerCodes:n.lowerCodes,_lower:n._lower,containsSpace:n.containsSpace,bitflags:n.bitflags,spaceSearches:t}},_=function(e){if(e.length>999)return i(e);var n=v.get(e);return void 0!==n||(n=i(e),v.set(e,n)),n},m=function(e){if(e.length>999)return d(e);var n=S.get(e);return void 0!==n||(n=d(e),S.set(e,n)),n},p=function(e,n){var t=[];t.total=e.length;var r=n?.limit||L;if(n?.key)for(var o=0;o<e.length;o++){var a=e[o],i=N(a,n.key);if(i!=x){D(i)||(i=_(i));var s=c(i.target,{_score:i._score,obj:i.obj});if(t.push(s),t.length>=r)break}}else if(n?.keys)for(var o=0;o<e.length;o++){for(var a=e[o],l=new u(n.keys.length),f=n.keys.length-1;f>=0;--f){var i=N(a,n.keys[f]);if(!i){l[f]=B;continue}D(i)||(i=_(i)),i._score=P,i._indexes.len=0,l[f]=i}if(l.obj=a,l._score=P,t.push(l),t.length>=r)break}else for(var o=0;o<e.length;o++){var i=e[o];if(i!=x&&(D(i)||(i=_(i)),i._score=P,i._indexes.len=0,t.push(i),t.length>=r))break}return t},y=function(e,n,t=!1,r=!1){if(!1===t&&e.containsSpace)return E(e,n,r);for(var o=e._lower,a=e.lowerCodes,i=a[0],s=n._targetLowerCodes,u=a.length,l=s.length,f=0,d=0,_=0;;){var m=i===s[d];if(m){if(A[_++]=d,++f===u)break;i=a[f]}if(++d>=l)return x}var f=0,p=!1,y=0,g=n._nextBeginningIndexes;g===x&&(g=n._nextBeginningIndexes=b(n.target));var h=0;if((d=0===A[0]?0:g[A[0]-1])!==l)for(;;)if(d>=l){if(f<=0||++h>200)break;--f,d=g[T[--y]]}else{var m=a[f]===s[d];if(m){if(T[y++]=d,++f===u){p=!0;break}++d}else d=g[d]}var v=u<=1?-1:n._targetLower.indexOf(o,A[0]),S=!!~v,w=!!S&&(0===v||n._nextBeginningIndexes[v-1]===v);if(S&&!w){for(var C=0;C<g.length;C=g[C])if(!(C<=v)){for(var R=0;R<u&&a[R]===n._targetLowerCodes[C+R];R++);if(R===u){v=C,w=!0;break}}}var I=function(e){for(var n=0,t=0,r=1;r<u;++r)e[r]-e[r-1]!=1&&(n-=e[r],++t);if(n-=(12+(e[u-1]-e[0]-(u-1)))*t,0!==e[0]&&(n-=e[0]*e[0]*.2),p){for(var o=1,r=g[0];r<l;r=g[r])++o;o>24&&(n*=(o-24)*10)}else n*=1e3;return n-=(l-u)/2,S&&(n/=1+u*u*1),w&&(n/=1+u*u*1),n-=(l-u)/2};if(p){if(w){for(var C=0;C<u;++C)A[C]=v+C;var O=A,N=I(A)}else var O=T,N=I(T)}else{if(S)for(var C=0;C<u;++C)A[C]=v+C;var O=A,N=I(O)}n._score=N;for(var C=0;C<u;++C)n._indexes[C]=O[C];return n._indexes.len=u,c(n.target,{_score:n._score,_indexes:n._indexes})},E=function(e,n,t){for(var r=new Set,o=0,a=x,i=0,s=e.spaceSearches,u=s.length,c=0,l=function(){for(var e=c-1;e>=0;e--)n._nextBeginningIndexes[w[2*e+0]]=w[2*e+1]},f=!1,d=0;d<u;++d){if(R[d]=P,a=y(s[d],n),t){if(a===x)continue;f=!0}else if(a===x)return l(),x;if(d!==u-1){for(var _=a._indexes,m=!0,p=0;p<_.len-1;p++)if(_[p+1]-_[p]!=1){m=!1;break}if(m)for(var E=_[_.len-1]+1,g=n._nextBeginningIndexes[E-1],h=E-1;h>=0&&g===n._nextBeginningIndexes[h];h--)n._nextBeginningIndexes[h]=E,w[2*c+0]=h,w[2*c+1]=g,c++}o+=a._score/u,R[d]=a._score/u,a._indexes[0]<i&&(o-=(i-a._indexes[0])*2),i=a._indexes[0];for(var b=0;b<a._indexes.len;++b)r.add(a._indexes[b])}if(t&&!f)return x;l();var v=y(e,n,!0);if(v!==x&&v._score>o){if(t)for(var d=0;d<u;++d)R[d]=v._score/u;return v}t&&(a=n),a._score=o;var d=0;for(var S of r)a._indexes[d++]=S;return a._indexes.len=d,a},g=function(e){for(var n=e.length,t=e.toLowerCase(),r=[],o=0,a=!1,i=0;i<n;++i){var s=r[i]=t.charCodeAt(i);if(32===s){a=!0;continue}o|=1<<(s>=97&&s<=122?s-97:s>=48&&s<=57?26:s<=127?30:31)}return{lowerCodes:r,bitflags:o,containsSpace:a,_lower:t}},h=function(e){for(var n=e.length,t=[],r=0,o=!1,a=!1,i=0;i<n;++i){var s=e.charCodeAt(i),u=s>=65&&s<=90,c=u||s>=97&&s<=122||s>=48&&s<=57,l=u&&!o||!a||!c;o=u,a=c,l&&(t[r++]=i)}return t},b=function(e){for(var n=e.length,t=h(e),r=[],o=t[0],a=0,i=0;i<n;++i)o>i?r[i]=o:(o=t[++a],r[i]=void 0===o?n:o);return r},v=new Map,S=new Map,A=[],T=[],w=[],C=[],R=[],I=[],O=[],N=function(e,n){var t=e[n];if(void 0!==t)return t;if("function"==typeof n)return n(e);var r=n;Array.isArray(n)||(r=n.split("."));for(var o=r.length,a=-1;e&&++a<o;)e=e[r[a]];return e},D=function(e){return"object"==typeof e&&"number"==typeof e._bitflags},L=1/0,P=-1/0,M=[];M.total=0;var x=null,B=i(""),F=(n=[],t=0,r={},o=function(e){for(var r=0,o=n[r],a=1;a<t;){var i=a+1;r=a,i<t&&n[i]._score<n[a]._score&&(r=i),n[r-1>>1]=n[r],a=1+(r<<1)}for(var s=r-1>>1;r>0&&o._score<n[s]._score;s=(r=s)-1>>1)n[r]=n[s];n[r]=o},r.add=function(e){var r=t;n[t++]=e;for(var o=r-1>>1;r>0&&e._score<n[o]._score;o=(r=o)-1>>1)n[r]=n[o];n[r]=e},r.poll=function(e){if(0!==t){var r=n[0];return n[0]=n[--t],o(),r}},r.peek=function(e){if(0!==t)return n[0]},r.replaceTop=function(e){n[0]=e,o()},r);return{single:function(e,n){if(!e||!n)return x;var t=m(e);D(n)||(n=_(n));var r=t.bitflags;return(r&n._bitflags)!==r?x:y(t,n)},go:function(e,n,t){if(!e)return t?.all?p(n,t):M;var r=m(e),o=r.bitflags,a=r.containsSpace,i=f(t?.threshold||0),s=t?.limit||L,c=0,l=0,d=n.length;function E(e){c<s?(F.add(e),++c):(++l,e._score>F.peek()._score&&F.replaceTop(e))}if(t?.key)for(var g=t.key,h=0;h<d;++h){var b=n[h],v=N(b,g);if(v&&(D(v)||(v=_(v)),(o&v._bitflags)===o)){var S=y(r,v);S!==x&&(S._score<i||(S.obj=b,E(S)))}}else if(t?.keys){var A=t.keys,T=A.length;e:for(var h=0;h<d;++h){for(var b=n[h],w=0,U=0;U<T;++U){var g=A[U],v=N(b,g);if(!v){I[U]=B;continue}D(v)||(v=_(v)),I[U]=v,w|=v._bitflags}if((o&w)===o){if(a)for(var k=0;k<r.spaceSearches.length;k++)C[k]=P;for(var U=0;U<T;++U){if((v=I[U])===B||(O[U]=y(r,v,!1,a),O[U]===x)){O[U]=B;continue}if(a)for(var j=0;j<r.spaceSearches.length;j++){if(R[j]>-1e3&&C[j]>P){var V=(C[j]+R[j])/4;V>C[j]&&(C[j]=V)}R[j]>C[j]&&(C[j]=R[j])}}if(a){for(var G=0;G<r.spaceSearches.length;G++)if(C[G]===P)continue e}else{for(var H=!1,z=0;z<T;z++)if(O[z]._score!==P){H=!0;break}if(!H)continue}for(var $=new u(T),Y=0;Y<T;Y++)$[Y]=O[Y];if(a)for(var K=0,W=0;W<r.spaceSearches.length;W++)K+=C[W];else for(var K=P,X=0;X<T;X++){var S=$[X];if(S._score>-1e3&&K>P){var V=(K+S._score)/4;V>K&&(K=V)}S._score>K&&(K=S._score)}if($.obj=b,$._score=K,t?.scoreFn){if(!(K=t.scoreFn($)))continue;K=f(K),$._score=K}K<i||E($)}}}else for(var h=0;h<d;++h){var v=n[h];if(v&&(D(v)||(v=_(v)),(o&v._bitflags)===o)){var S=y(r,v);S!==x&&(S._score<i||E(S))}}if(0===c)return M;for(var J=Array(c),h=c-1;h>=0;--h)J[h]=F.poll();return J.total=c+l,J},prepare:i,cleanup:function(){v.clear(),S.clear()}}},"function"==typeof define&&define.amd?define([],t):"object"==typeof n&&n.exports?n.exports=t():e.fuzzysort=t()}});function s5({card:e,...n}){oQ(nc),oQ(n.items);var[t,r]=React.useState(""),o=(0,rR.useMemo)(function(){return Object.values(n.items).filter(function(e){return"object"==typeof e})},[n.items]),a=(0,rR.useMemo)(function(){return t?rC.default.go(t,o,{keys:n.searchKeywords}).map(function(e){return e.obj}):o},[o,t]),i=(0,rR.useMemo)(function(){return __bunny_createElement(rI.View,null,nc.safeMode?.enabled&&__bunny_createElement(rI.View,{style:{marginBottom:10}},__bunny_createElement(n5,{messageType:0},n.safeModeMessage),n.safeModeExtras),__bunny_createElement(sl,{style:{padding:8},onChangeText:function(e){return r(e.toLowerCase())},placeholder:nV.SEARCH}))},[]);return __bunny_createElement(t9,null,__bunny_createElement(rO,{data:a,estimatedItemSize:136,ListHeaderComponent:i,contentContainerStyle:{paddingBottom:90,paddingHorizontal:5},renderItem:function({item:n}){return __bunny_createElement(rI.View,{style:{paddingVertical:6,paddingHorizontal:8}},__bunny_createElement(e,{item:n}))}}),__bunny_createElement(tl,{icon:R("PlusLargeIcon"),onPress:n.onFABPress??function(){eN.getString().then(function(e){return t$({initialValue:e.match(W)?.[0]??"",placeholder:nV.URL_PLACEHOLDER,onConfirm:function(e){return n.fetchFunction(e)},confirmText:nV.INSTALL,cancelText:nV.CANCEL})})}}))}var s9=of({"src/core/ui/components/AddonPage.tsx"(){iu(),oz(),o1(),aY(),o4(),iM(),af(),ix(),ij(),sp(),rC=op(s6()),rR=op(sy()),rI=op(oW()),{FlashList:rO}=es("FlashList")}});function s3(e){rN.hideActionSheet(e)}var s7=of({"src/lib/ui/sheets.ts"(){o7(),rN=eu("openLazy","hideActionSheet")}}),ue=of({"src/core/ui/settings/pages/Plugins/usePluginCardStyles.ts"(){iW(),af(),rD=iY({smallIcon:{tintColor:ek.colors.LOGO_PRIMARY,height:18,width:18}})}}),un={};function ut({plugin:e,navigation:n}){oQ(e);var t=ru(e.id);return __bunny_createElement(tf,null,__bunny_createElement(rL.ScrollView,null,__bunny_createElement(rL.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24}},__bunny_createElement(tm,{variant:"heading-xl/semibold"},e.manifest.name),__bunny_createElement(rL.View,{style:{marginLeft:"auto"}},t&&__bunny_createElement(n7,{size:"md",text:"Configure",variant:"secondary",icon:R("WrenchIcon"),onPress:function(){s3("PluginInfoActionSheet"),n.push("VendettaCustomPage",{title:e.manifest.name,render:t})}}))),__bunny_createElement(n3.Group,null,__bunny_createElement(n3,{label:nV.REFETCH,icon:__bunny_createElement(tn.Icon,{source:R("RetryIcon")}),onPress:async function(){e.enabled&&sw(e.id,!1);try{await sv(e.id),nJ(nV.PLUGIN_REFETCH_SUCCESSFUL,R("toast_image_saved"))}catch(e){nJ(nV.PLUGIN_REFETCH_FAILED,R("Small"))}e.enabled&&await sT(e.id),s3("PluginInfoActionSheet")}}),__bunny_createElement(n3,{label:nV.COPY_URL,icon:__bunny_createElement(tn.Icon,{source:R("copy")}),onPress:function(){eN.setString(e.id),nJ.showCopyToClipboard()}}),__bunny_createElement(n3,{label:e.update?nV.DISABLE_UPDATES:nV.ENABLE_UPDATES,icon:__bunny_createElement(tn.Icon,{source:R("ic_download_24px")}),onPress:function(){e.update=!e.update,nJ(is("TOASTS_PLUGIN_UPDATE",{update:e.update,name:e.manifest.name}),R("toast_image_saved"))}}),__bunny_createElement(n3,{label:nV.CLEAR_DATA,icon:__bunny_createElement(tn.Icon,{source:R("ic_duplicate")}),onPress:function(){return ik({title:nV.HOLD_UP,content:is("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.manifest.name}),confirmText:nV.CLEAR,cancelText:nV.CANCEL,confirmColor:ew.RED,onConfirm:async function(){var n;e.enabled&&sw(e.id,!1);try{await sv(e.id),nJ(nV.PLUGIN_REFETCH_SUCCESSFUL,R("toast_image_saved"))}catch(e){nJ(nV.PLUGIN_REFETCH_FAILED,R("Small"))}try{F(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch(e){n=["CLEAR_DATA_FAILED","Small"]}nJ(is(n[0],{name:e.manifest.name}),R(n[1])),e.enabled&&await sT(e.id),s3("PluginInfoActionSheet")}})}}),__bunny_createElement(n3,{label:nV.DELETE,icon:__bunny_createElement(tn.Icon,{source:R("ic_message_delete")}),onPress:function(){return ik({title:nV.HOLD_UP,content:is("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.manifest.name}),confirmText:nV.DELETE,cancelText:nV.CANCEL,confirmColor:ew.RED,onConfirm:function(){try{sC(e.id)}catch(e){nJ(String(e),R("Small"))}s3("PluginInfoActionSheet")}})}}))))}o_(un,{default:()=>ut});var ur=of({"src/core/ui/settings/pages/Plugins/sheets/PluginInfoActionSheet.tsx"(){iu(),oz(),o1(),sI(),ij(),s7(),iy(),aa(),af(),ix(),rL=op(oW())}});function uo(){var e=function(e){t.push(__bunny_createElement(tm,{variant:"text-md/semibold",color:"text-muted",onPress:function(){return r(e.id)}},e.name)),t.push(", ")},n=rF(),t=["by "],r=function(e){e&&(ej.getUser(e)?eV.showUserProfile({userId:e}):eG.fetchProfile(e).then(function(){eV.showUserProfile({userId:e})}))};for(var o of n.manifest.authors)e(o);return t.pop(),__bunny_createElement(tm,{variant:"text-md/semibold",color:"text-muted"},t)}function ua(){var e=rD(),n=rF(),t=n.manifest.vendetta?.icon,r=t&&R(t);return __bunny_createElement(rM.View,{style:{flexDirection:"row",alignItems:"center"}},r&&__bunny_createElement(rM.Image,{style:[e.smallIcon,{marginRight:4}],source:r}),__bunny_createElement(tm,{numberOfLines:1,variant:"heading-lg/semibold"},n.manifest.name))}function ui(){var e=rF(),n=rD(),t=rx(ek.colors.INTERACTIVE_NORMAL);return e.error?__bunny_createElement(rM.View,{style:{flexDirection:"row",alignItems:"center",gap:8}},__bunny_createElement(rM.View,{style:n.smallIcon},__bunny_createElement(rM.Image,{tintColor:t,source:R("WarningIcon")})),__bunny_createElement(tm,{variant:"text-sm/semibold"},"There was an error while attempting to start this plugin.")):null}function us({item:e}){var n=eU.useNavigation();return oQ(e),__bunny_createElement(rB.Provider,{value:e},__bunny_createElement(ts,null,__bunny_createElement(tu,{spacing:16},__bunny_createElement(ui,null),__bunny_createElement(rM.View,{style:{flexDirection:"row",justifyContent:"space-between"}},__bunny_createElement(rM.View,{style:{flexShrink:1}},__bunny_createElement(ua,null),__bunny_createElement(uo,null)),__bunny_createElement(rM.View,null,__bunny_createElement(tu,{spacing:12,direction:"horizontal"},__bunny_createElement(rM.View,{style:{flexDirection:"row",gap:6}},__bunny_createElement(te,{size:"sm",variant:"secondary",icon:R("WrenchIcon"),disabled:!ru(e.id),onPress:function(){return n.push("VendettaCustomPage",{title:e.manifest.name,render:ru(e.id)})}}),__bunny_createElement(te,{size:"sm",variant:"secondary",icon:R("CircleInformationIcon-primary"),onPress:function(){var t,r,o;t="PluginInfoActionSheet",r=Promise.resolve().then(()=>(ur(),un)),o={plugin:e,navigation:n},rN.openLazy(r,t,o??{})}})),__bunny_createElement(to,{value:e.enabled,onValueChange:function(n){n?sT(e.id):sw(e.id)}})))),__bunny_createElement(tm,{variant:"text-md/medium"},e.manifest.description))))}var uu=of({"src/core/ui/settings/pages/Plugins/PluginCard.tsx"(){oz(),o1(),sI(),s7(),oh(),iM(),af(),ix(),rP=op(sy()),rM=op(oW()),ue(),({useToken:rx}=og(function(){return es("useToken")})),rB=(0,rP.createContext)(null),rF=function(){return(0,rP.useContext)(rB)}}}),uc={};function ul(){return oQ(nc),__bunny_createElement(s5,{title:nV.PLUGINS,searchKeywords:["manifest.name","manifest.description",function(e){return e.manifest.authors?.map(function(e){return e.name}).join()}],fetchFunction:sS,items:ra,safeModeMessage:nV.SAFE_MODE_NOTICE_PLUGINS,card:us})}o_(uc,{default:()=>ul});var uf=of({"src/core/ui/settings/pages/Plugins/index.tsx"(){iu(),s9(),uu(),o1(),sI(),aY()}});function ud(e){var n=rV();return __bunny_createElement(ts,null,__bunny_createElement(tu,{spacing:16},__bunny_createElement(rU.View,{style:{flexDirection:"row",alignItems:"center"}},__bunny_createElement(rU.View,{style:n.headerLeading},__bunny_createElement(tm,{style:n.headerLabel},e.headerLabel),e.headerSublabel&&__bunny_createElement(tm,{style:n.headerSubtitle},e.headerSublabel)),__bunny_createElement(rU.View,{style:[n.headerTrailing,{marginLeft:"auto"}]},__bunny_createElement(rU.View,{style:n.actions},e.overflowActions&&__bunny_createElement(te,{onPress:function(){return rj({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&__bunny_createElement(tL.Icon,{style:{marginRight:8},source:R(e.headerIcon)}),onClose:function(){return rk()}},options:e.overflowActions?.map(function(e){return{...e,icon:R(e.icon)}})})},size:"sm",variant:"secondary",icon:R("CircleInformationIcon-primary")}),e.actions?.map(function({icon:e,onPress:n,disabled:t}){return __bunny_createElement(te,{onPress:n,disabled:t,size:"sm",variant:"secondary",icon:R(e)})})),e.toggleType&&("switch"===e.toggleType?__bunny_createElement(ta,{value:e.toggleValue(),onValueChange:e.onToggleChange}):__bunny_createElement(rU.TouchableOpacity,{onPress:function(){e.onToggleChange?.(!e.toggleValue())}},__bunny_createElement(ti,{selected:e.toggleValue()}))))),e.descriptionLabel&&__bunny_createElement(tm,{variant:"text-md/medium"},e.descriptionLabel)))}var u_=of({"src/core/ui/components/AddonCard.tsx"(){oz(),oh(),ix(),o7(),iz(),iW(),rU=op(oW()),({hideActionSheet:rk}=og(function(){return es("openLazy","hideActionSheet")})),({showSimpleActionSheet:rj}=og(function(){return es("showSimpleActionSheet")})),rV=iY({card:{backgroundColor:tY?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{...tQ["heading-md/semibold"],color:tY.TEXT_NORMAL},headerSubtitle:{...tQ["text-md/semibold"],color:tY.TEXT_MUTED},descriptionLabel:{...tQ["text-md/semibold"],color:tY.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:tY.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})}});function um(e,n){try{ag(e?n:null),aA(e?n:null)}catch(e){console.error("Error while selectAndApply,",e)}}function up({item:e,index:n}){oQ(e);var[t,r]=React.useState(!1);if(t)return null;var{authors:o}=e.data;return __bunny_createElement(ud,{index:n,headerLabel:e.data.name,headerSublabel:o?`by ${o.map(function(e){return e.name}).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:nc.safeMode?.enabled?void 0:"radio",toggleValue:function(){return e9[e.id].selected},onToggleChange:function(n){um(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:nV.REFETCH,onPress:function(){ay(e.id,e.selected).then(function(){nJ(nV.THEME_REFETCH_SUCCESSFUL,R("toast_image_saved"))}).catch(function(){nJ(nV.THEME_REFETCH_FAILED,R("Small"))})}},{icon:"copy",label:nV.COPY_URL,onPress:function(){eN.setString(e.id),nJ.showCopyToClipboard()}},{icon:"ic_message_delete",label:nV.DELETE,isDestructive:!0,onPress:function(){return ik({title:nV.HOLD_UP,content:is("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:nV.DELETE,cancelText:nV.CANCEL,confirmColor:ew.RED,onConfirm:function(){ah(e.id).then(function(n){r(!0),n&&um(!1,e)}).catch(function(e){nJ(e.message,R("Small"))})}})}}]})}var uy=of({"src/core/ui/settings/pages/Themes/ThemeCard.tsx"(){iu(),u_(),oz(),o1(),aw(),aY(),aa(),af(),ij(),iy()}}),uE={};function ug(){return oQ(nc),oQ(e9),__bunny_createElement(s5,{title:nV.THEMES,searchKeywords:["manifest.name","manifest.description",function(e){return e.manifest.authors?.map(function(e){return e.name}).join()}],fetchFunction:aE,items:e9,safeModeMessage:is("SAFE_MODE_NOTICE_THEMES",{enabled:!!nc.safeMode?.currentThemeId}),safeModeExtras:nc.safeMode?.currentThemeId?__bunny_createElement(n7,{text:nV.DISABLE_THEME,size:"small",onPress:function(){return delete nc.safeMode?.currentThemeId},style:{marginTop:8}}):void 0,card:up})}o_(uE,{default:()=>ug});var uh=of({"src/core/ui/settings/pages/Themes/index.tsx"(){iu(),s9(),uy(),o1(),aw(),aY(),ix()}}),ub={};async function uv(e,n="pyoncord/"){if("function"!=typeof d.clearFolder)throw Error("'fs.clearFolder' is not supported");await d.clearFolder("documents",`${n}${e}`)}async function uS(e,n="pyoncord/"){if("function"!=typeof d.removeFile)throw Error("'fs.removeFile' is not supported");await d.removeFile("documents",`${n}${e}`)}async function uA(e,n="pyoncord/"){return await d.fileExists(`${d.getConstants().DocumentsDirPath}/${n}${e}`)}async function uT(e,n,t="pyoncord/"){if("string"!=typeof n)throw Error("Argument 'data' must be a string");await d.writeFile("documents",`${t}${e}`,n,"utf8")}async function uw(e,n,t="pyoncord/"){try{return await d.readFile(`${d.getConstants().DocumentsDirPath}/${t}${e}`,"utf8")}catch(t){if(null==n)throw Error(`Errored while reading ${e} doesn't exist`);return await uT(e,n),n}}async function uC(e,n,t="pyoncord/"){var r,o=await fetch(e).then(function(e){return e.blob()}),a=await new Promise(function(e){var n=new FileReader;n.onload=function(){return e(n.result)},n.readAsDataURL(o)});if(null==a)throw Error("Failed to convert blob to data URL");var i=a.indexOf("base64,");if(-1===i)throw Error("dataURL does not contain base64");r=a.slice(i+7),await d.writeFile("documents",`${t}${n}`,r,"base64")}o_(ub,{clearFolder:()=>uv,downloadFile:()=>uC,fileExists:()=>uA,readFile:()=>uw,removeFile:()=>uS,writeFile:()=>uT});var uR=of({"src/lib/api/native/fs.ts"(){oR()}}),uI={};async function uO(e){if(!e&&null!==e)throw Error("Arg font must be a valid object or null");e?await uT("fonts.json",JSON.stringify(e)):await uS("fonts.json")}function uN(e){if(!e||"object"!=typeof e)throw Error("URL returned a null/non-object JSON");if("number"!=typeof e.spec)throw Error("Invalid font 'spec' number");if(1!==e.spec)throw Error("Only fonts which follows spec:1 are supported");var n=["name","main"];if(n.some(function(n){return!e[n]}))throw Error(`Font is missing one of the fields: ${n}`);if(e.name.startsWith("__"))throw Error("Font names cannot start with __");if(e.name in rG)throw Error(`There is already a font named '${e.name}' installed`)}async function uD(e,n=!1){var t;if("object"==typeof e&&e.__source&&(e=e.__source),"string"==typeof e)try{(t=await (await at(e)).json()).__source=e}catch(n){throw Error(`Failed to fetch fonts at ${e}`,{cause:n})}else t=e;uN(t);try{await Promise.all(Object.entries(t.main).map(async function([e,n]){var r=n.split(".").pop();"ttf"!==r&&"otf"!==r&&(r="ttf");var o=`downloads/fonts/${t.name}/${e}.${r}`;await uA(o)||await uC(n,o)}))}catch(e){throw Error("Failed to download font assets",{cause:e})}return rG[t.name]=t,n&&uO(rG[t.name]),t}async function uL(e,n=!1){if("string"!=typeof e||Object.values(rG).some(function(n){return"object"==typeof n&&n.__source===e}))throw Error("Invalid source or font was already installed");var t=await uD(e);n&&await uP(t.name)}async function uP(e){if(e&&!(e in rG))throw Error("Selected font does not exist!");e?rG.__selected=e:delete rG.__selected,await uO(null==e?null:rG[e])}async function uM(e){rG.__selected===e&&await uP(null),delete rG[e];try{await uv(`downloads/fonts/${e}`)}catch(e){}}async function ux(){await G(rG),await Promise.allSettled(Object.keys(rG).map(function(e){return uD(rG[e],rG.__selected===e)}))}o_(uI,{fonts:()=>rG,installFont:()=>uL,removeFont:()=>uM,saveFont:()=>uD,selectFont:()=>uP,updateFonts:()=>ux,validateFont:()=>uN});var uB=of({"src/lib/managers/fonts.ts"(){uR(),o1(),ac(),rG=o0(oZ(U("BUNNY_FONTS")))}});function uF({fonts:e,setName:n}){var t,r,o=no.data.fonts,[a,i]=(0,rH.useState)((r=(t=Object.values(o).map(function(e){var{pathname:n}=new URL(e);return n.replace(/\.[^/.]+$/,"").split("/").pop()}).filter(Boolean)).reduce(function(e,n){return n.length<e.length?n:e},t[0]||""),r?.replace(/-[A-Za-z]*$/,"")||null)),[s,u]=(0,rH.useState)(void 0);return __bunny_createElement(rz.View,{style:{padding:8,paddingBottom:16,gap:12}},__bunny_createElement(tc,{autoFocus:!0,size:"md",label:nV.FONT_NAME,value:a,placeholder:a||"Whitney",onChange:i,errorMessage:s,state:s?"error":void 0}),__bunny_createElement(tm,{variant:"text-xs/normal",color:"text-muted"},is("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(nV.SEPARATOR)})),__bunny_createElement(n7,{size:"md",variant:"primary",text:nV.EXTRACT,disabled:!a,onPress:function(){if(a)try{uN({spec:1,name:a,main:o}),n(a),Object.assign(e,o),r$.hideActionSheet()}catch(e){u(String(e))}}}))}function uU({fonts:e,setName:n,setSource:t}){var[r,o]=(0,rH.useState)(""),[a,i]=(0,rH.useState)(!1),[s,u]=(0,rH.useState)(void 0);return __bunny_createElement(rz.View,{style:{padding:8,paddingBottom:16,gap:12}},__bunny_createElement(tc,{autoFocus:!0,size:"md",label:"Font Link",value:r,placeholder:"https://link.to/font/pack.json",onChange:o,errorMessage:s,state:s?"error":void 0}),__bunny_createElement(n7,{size:"md",variant:"primary",text:"Import",disabled:!r||a,loading:a,onPress:function(){i(!0),(async function(){var o=await at(r,{cache:"no-store"}),a=await o.json();uN(a),n(a.name),t(r),Object.assign(e,a.main)})().then(function(){return r$.hideActionSheet()}).catch(function(e){return u(String(e))}).finally(function(){return i(!1)})}}))}function uk(e){var[n,t]=(0,rH.useState)(e.name),[r,o]=(0,rH.useState)(e.fontEntries[e.name]);return __bunny_createElement(rz.View,{style:{padding:8,paddingBottom:16,gap:12}},__bunny_createElement(tc,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:n,placeholder:"ggsans-Bold",onChange:t}),__bunny_createElement(tc,{size:"md",label:"Font URL",value:r,placeholder:"https://link.to/the/font.ttf",onChange:o}),__bunny_createElement(n7,{size:"md",variant:"primary",text:"Apply",onPress:function(){delete e.fontEntries[e.name],e.fontEntries[n]=r}}))}function uj(e,n,t){r$.openLazy(Promise.resolve({default:function(){return __bunny_createElement(t9,null,__bunny_createElement(tf,null,__bunny_createElement(td,{title:"Import Font"}),__bunny_createElement(e,{fonts:n,...t})))}}),"FontEditorActionSheet")}function uV({fontEntry:e}){var n=(0,rH.useRef)(),t=(0,rH.useRef)(),[r,o]=(0,rH.useState)(!1),[a,i]=(0,rH.useState)();return __bunny_createElement(rz.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"}},__bunny_createElement(rz.View,{style:{flex:1}},__bunny_createElement(tc,{isRound:!0,size:"md",label:r?n.current:void 0,placeholder:r?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:function(){return r?null:__bunny_createElement(tn.Icon,{source:R("PlusSmallIcon")})},leadingText:r?n.current:"",onChange:function(e){return(r?t:n).current=e},errorMessage:a,state:a?"error":void 0})),r&&__bunny_createElement(te,{size:"md",variant:"secondary",onPress:function(){n.current="",o(!1)},icon:R("TrashIcon")}),__bunny_createElement(te,{size:"md",variant:"primary",onPress:function(){if(!r&&n.current)o(!0);else if(r&&n.current&&t.current)try{var a=new URL(t.current);if(!a.protocol||!a.host)throw"Invalid URL";e[n.current]=t.current,n.current=void 0,t.current=void 0,o(!1)}catch(e){i(String(e))}},icon:R(r?"PlusSmallIcon":"ArrowLargeRightIcon")}))}function uG(e){var[n,t]=(0,rH.useState)(e.name),[r,o]=(0,rH.useState)(),[a,i]=(0,rH.useState)(!1),s=oQ((0,rH.useMemo)(function(){return oq(e.name?{...rG[e.name].main}:{}).proxy},[e.name])),u=eU.useNavigation();return __bunny_createElement(rz.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},__bunny_createElement(tu,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12},e.name?__bunny_createElement(tt,{title:"Actions"},__bunny_createElement(tn,{label:"Refetch fonts from source",icon:__bunny_createElement(tn.Icon,{source:R("RetryIcon")}),onPress:async function(){var n={...rG[e.name]};await uM(e.name),await uD(n),u.goBack()}}),__bunny_createElement(tn,{label:"Delete font pack",icon:__bunny_createElement(tn.Icon,{source:R("TrashIcon")}),onPress:function(){return uM(e.name).then(function(){return u.goBack()})}})):__bunny_createElement(tt,{title:"Import"},no?.data?.fonts&&__bunny_createElement(tn,{label:nV.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:nV.DESC_EXTRACT_FONTS_FROM_THEME,icon:__bunny_createElement(tn.Icon,{source:R("HammerIcon")}),onPress:function(){return uj(uF,s,{setName:t})}}),__bunny_createElement(tn,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:__bunny_createElement(tn.Icon,{source:R("LinkIcon")}),onPress:function(){return uj(uU,s,{setName:t,setSource:o})}})),__bunny_createElement(tc,{size:"lg",value:n,label:nV.FONT_NAME,placeholder:"Whitney",onChange:t}),__bunny_createElement(tt,{title:"Font Entries"},Object.entries(s).map(function([e,n]){return __bunny_createElement(tn,{label:e,subLabel:n,trailing:__bunny_createElement(tu,{spacing:2,direction:"horizontal"},__bunny_createElement(te,{size:"sm",variant:"secondary",icon:R("PencilIcon"),onPress:function(){return uj(uk,s,{name:e,fontEntries:s})}}),__bunny_createElement(te,{size:"sm",variant:"secondary",icon:R("TrashIcon"),onPress:function(){return delete s[e]}}))})}),__bunny_createElement(tn,{label:__bunny_createElement(uV,{fontEntry:s})})),__bunny_createElement(rz.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0}},__bunny_createElement(n7,{size:"lg",loading:a,disabled:a||!n||0===Object.keys(s).length,variant:"primary",text:e.name?"Save":"Import",onPress:async function(){n&&(i(!0),e.name?(Object.assign(rG[e.name],{name:n,main:s,__edited:!0}),i(!1),u.goBack()):uD({spec:1,name:n,main:s,__source:r}).then(function(){return u.goBack()}).finally(function(){return i(!1)}))},icon:R(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}}))))}var uH=of({"src/core/ui/settings/pages/Fonts/FontEditor.tsx"(){iu(),oz(),o1(),uB(),aw(),ac(),af(),ix(),o7(),sp(),rH=op(sy()),rz=op(oW()),r$=eu("hideActionSheet")}});function uz({font:e}){var n=rW(ek.colors.TEXT_NORMAL),{fontFamily:t,fontSize:r}=tQ["text-md/medium"],o=t.split(/,/g)[0],a=eJ.useFont(e.main[o])?.getTypeface(),i=(0,rY.useMemo)(function(){if(!a)return null;var e=SkiaApi.TypefaceFontProvider.Make();return e.registerFont(a,o),SkiaApi.ParagraphBuilder.Make({},e).pushStyle({color:SkiaApi.Color(n),fontFamilies:[o],fontSize:r}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[a]);return __bunny_createElement(rK.View,{style:{height:64}},a?__bunny_createElement(eJ.Canvas,{style:{height:64}},__bunny_createElement(eJ.Paragraph,{paragraph:i,x:0,y:0,width:300})):__bunny_createElement(rK.View,{style:{justifyContent:"center",alignItems:"center"}},__bunny_createElement(tm,{color:"text-muted",variant:"heading-lg/semibold"},"Loading...")))}function u$({item:e}){oQ(rG);var n=eU.useNavigation(),t=rG.__selected===e.name;return __bunny_createElement(ts,null,__bunny_createElement(tu,{spacing:16},__bunny_createElement(rK.View,{style:{flexDirection:"row",alignItems:"center"}},__bunny_createElement(rK.View,null,__bunny_createElement(tm,{variant:"heading-lg/semibold"},e.name)),__bunny_createElement(rK.View,{style:{marginLeft:"auto"}},__bunny_createElement(tu,{spacing:12,direction:"horizontal"},__bunny_createElement(te,{onPress:function(){n.push("VendettaCustomPage",{title:"Edit Font",render:function(){return __bunny_createElement(uG,{name:e.name})}})},size:"sm",variant:"secondary",disabled:t,icon:R("PencilIcon")}),__bunny_createElement(n7,{size:"sm",variant:t?"secondary":"primary",text:t?"Unapply":"Apply",onPress:async function(){await uP(t?null:e.name),ik({title:nV.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:nV.RELOAD,cancelText:nV.CANCEL,confirmColor:ew.RED,onConfirm:p.reload})}})))),__bunny_createElement(uz,{font:e})))}var uY=of({"src/core/ui/settings/pages/Fonts/FontCard.tsx"(){iu(),oz(),oR(),o1(),uB(),ij(),iW(),oh(),aa(),iM(),af(),ix(),rY=op(sy()),rK=op(oW()),uH(),{useToken:rW}=og(function(){return es("useToken")})}}),uK={};function uW(){oQ(nc),oQ(rG);var e=eU.useNavigation();return __bunny_createElement(s5,{title:nV.FONTS,searchKeywords:["name","description"],fetchFunction:uL,items:rG,safeModeMessage:nV.SAFE_MODE_NOTICE_FONTS,card:u$,onFABPress:function(){e.push("VendettaCustomPage",{title:"Import Font",render:function(){return __bunny_createElement(uG,null)}})}})}o_(uK,{default:()=>uW});var uX=of({"src/core/ui/settings/pages/Fonts/index.tsx"(){iu(),s9(),uH(),o1(),uB(),aY(),af(),uY()}}),uJ=of({"src/core/ui/settings/hooks/useFS.ts"(){var e;uR(),rX=op(sy()),(e=rJ||(rJ={}))[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"}});function uq({asset:e}){return __bunny_createElement(tL,{label:`${e.name} - ${e.id}`,trailing:__bunny_createElement(rq.Image,{source:e.id,style:{width:32,height:32}}),onPress:function(){eN.setString(e.name),nJ.showCopyToClipboard()}})}var uQ=of({"src/core/ui/settings/pages/Developer/AssetDisplay.tsx"(){af(),ix(),iy(),rq=op(oW())}});function uZ(){var[e,n]=React.useState("");return __bunny_createElement(t9,null,__bunny_createElement(rQ.View,{style:{flex:1}},__bunny_createElement(sl,{style:{margin:10},onChangeText:function(e){return n(e)}}),__bunny_createElement(rQ.FlatList,{data:Object.values(S).filter(function(n){return n.name.includes(e)||n.id.toString()===e}),renderItem:function({item:e}){return __bunny_createElement(uq,{asset:e})},ItemSeparatorComponent:tT,keyExtractor:function(e){return e.name}})))}var u0=of({"src/core/ui/settings/pages/Developer/AssetBrowser.tsx"(){uQ(),oz(),ix(),sp(),rQ=op(oW())}}),u1={};function u2(){var[e,n]=function(e,n){var[t,r]=(0,rX.useState)(2),o=function(){return uA(e,void 0).then(function(e){return r(e?1:0)}).catch(function(){return r(3)})},a=(0,rX.useMemo)(function(){return new Proxy(ub,{get(e,n,t){var a=Reflect.get(e,n,t);if("function"==typeof a)return function(...e){var n=(o(),a(...e));return n?.constructor?.name==="Promise"&&(r(2),n.finally(o)),n}}})},[]);return(0,rX.useEffect)(function(){o()},[]),[t,a]}("preloads/reactDevtools.js"),t=r4(),r=eU.useNavigation();return oQ(nc),oQ(nl),__bunny_createElement(t9,null,__bunny_createElement(rZ.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},__bunny_createElement(tu,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},__bunny_createElement(tc,{label:nV.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:function(){return __bunny_createElement(tj,{style:t.leadingText},"ws://")},defaultValue:nc.debuggerUrl,onChange:function(e){return nc.debuggerUrl=e}}),__bunny_createElement(tt,{title:nV.DEBUG},__bunny_createElement(tn,{label:nV.CONNECT_TO_DEBUG_WEBSOCKET,icon:__bunny_createElement(tn.Icon,{source:R("copy")}),onPress:function(){return ih(nc.debuggerUrl)}}),aF()&&__bunny_createElement(React.Fragment,null,__bunny_createElement(tn,{label:nV.CONNECT_TO_REACT_DEVTOOLS,icon:__bunny_createElement(tn.Icon,{source:R("ic_badge_staff")}),onPress:function(){return window[aU()||"__vendetta_rdc"]?.connectToDevTools({host:nc.debuggerUrl.split(":")?.[0],resolveRNStyle:rZ.StyleSheet.flatten})}}))),aP()&&__bunny_createElement(React.Fragment,null,__bunny_createElement(tt,{title:"Loader config"},__bunny_createElement(tr,{label:nV.LOAD_FROM_CUSTOM_URL,subLabel:nV.LOAD_FROM_CUSTOM_URL_DEC,icon:__bunny_createElement(tn.Icon,{source:R("copy")}),value:nl.customLoadUrl.enabled,onValueChange:function(e){nl.customLoadUrl.enabled=e}}),nl.customLoadUrl.enabled&&__bunny_createElement(tn,{label:__bunny_createElement(tc,{defaultValue:nl.customLoadUrl.url,size:"md",onChange:function(e){return nl.customLoadUrl.url=e},placeholder:"http://localhost:4040/vendetta.js",label:nV.BUNNY_URL})}),aF()&&aR()&&__bunny_createElement(tr,{label:nV.LOAD_REACT_DEVTOOLS,subLabel:`${nV.VERSION}: ${ak()}`,icon:__bunny_createElement(tn.Icon,{source:R("ic_badge_staff")}),value:nl.loadReactDevTools,onValueChange:function(e){nl.loadReactDevTools=e}}))),__bunny_createElement(tt,{title:"Other"},__bunny_createElement(tn,{arrow:!0,label:nV.ASSET_BROWSER,icon:__bunny_createElement(tn.Icon,{source:R("ic_image")}),trailing:tn.Arrow,onPress:function(){return r.push("VendettaCustomPage",{title:nV.ASSET_BROWSER,render:uZ})}}),__bunny_createElement(tn,{arrow:!0,label:nV.ERROR_BOUNDARY_TOOLS_LABEL,icon:__bunny_createElement(tn.Icon,{source:R("ic_warning_24px")}),onPress:function(){return r1({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:__bunny_createElement(tn.Icon,{style:{marginRight:8},source:R("ic_warning_24px")}),onClose:function(){return r0()}},options:[{label:nV.BUNNY,onPress:function(){return r.push("VendettaCustomPage",{render:function(){return __bunny_createElement("undefined",null)}})}},{label:"Discord",isDestructive:!0,onPress:function(){return r.push("VendettaCustomPage",{noErrorBoundary:!0})}}]})}}),__bunny_createElement(tn,{label:nV.INSTALL_REACT_DEVTOOLS,subLabel:nV.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:__bunny_createElement(tn.Icon,{source:R("DownloadIcon")}),trailing:__bunny_createElement(n7,{size:"sm",loading:e===rJ.LOADING,disabled:e===rJ.LOADING,variant:e===rJ.TRUE?"secondary":"primary",text:e===rJ.TRUE?nV.UNINSTALL:nV.INSTALL,onPress:async function(){e===rJ.FALSE?n.downloadFile(r2,"preloads/reactDevtools.js"):e===rJ.TRUE&&n.removeFile("preloads/reactDevtools.js")},icon:R(e===rJ.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),__bunny_createElement(tr,{label:nV.ENABLE_EVAL_COMMAND,subLabel:nV.ENABLE_EVAL_COMMAND_DESC,icon:__bunny_createElement(tn.Icon,{source:R("PencilIcon")}),value:nc.enableEvalCommand,onValueChange:function(e){nc.enableEvalCommand=e}})))))}o_(u1,{default:()=>u2});var u4=of({"src/core/ui/settings/pages/Developer/index.tsx"(){iu(),uJ(),u0(),oz(),az(),o1(),iS(),aY(),oh(),af(),ix(),o7(),iz(),sp(),iW(),rZ=op(oW()),({hideActionSheet:r0}=og(function(){return es("openLazy","hideActionSheet")})),({showSimpleActionSheet:r1}=og(function(){return es("showSimpleActionSheet")})),r2="https://raw.githubusercontent.com/amsyarasyiq/rdt-embedder/main/dist.js",r4=iY({leadingText:{...tQ["heading-md/semibold"],color:tY.TEXT_MUTED,marginRight:-4}})}}),u8=of({"src/core/ui/settings/index.ts"(){sF(),iu(),oz(),az(),o1(),aY(),sY()}}),u6={};function u5(){var e=function(e){for(var n of r9){var t=n(e);null!=t&&(t?"object"==typeof t&&(Object.assign(e,t),e[r6]=!0):e[r8]=!0)}return r8 in e};return(r5._interceptors??=[]).unshift(e),function(){return r5._interceptors&&=r5._interceptors.filter(function(n){return n!==e})}}function u9(e){return r9.push(e),function(){r9=r9.filter(function(n){return n!==e})}}o_(u6,{dispatcher:()=>r5,injectFluxInterceptor:()=>u5,intercept:()=>u9});var u3=of({"src/lib/api/flux/index.ts"(){af(),r8=Symbol.for("bunny.flux.blocked"),r6=Symbol.for("bunny.flux.modified"),r5=ez,r9=[]}}),u7=of({"src/lib/ui/safeMode.tsx"(){iu(),oR(),oV(),iS(),aY(),oh(),aa(),ix(),o7(),iz(),sp(),iW(),r3=op(oW()),r7=ef("ErrorBoundary"),({BadgableTabBar:oe}=og(function(){return es("BadgableTabBar")})),on=iK({container:{flex:1,backgroundColor:tY.BACKGROUND_PRIMARY,paddingHorizontal:16},header:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:8},headerTitle:{...tQ["heading-md/semibold"],textAlign:"center",textTransform:"uppercase",color:tY.HEADER_PRIMARY},headerDescription:{...tQ["text-sm/medium"],textAlign:"center",color:tY.TEXT_MUTED},footer:{flexDirection:m.isTablet?"row":"column",justifyContent:"flex-end",marginVertical:8}}),ot=[{id:"message",title:function(){return nV.MESSAGE}},{id:"stack",title:function(){return nV.STACK_TRACE}},{id:"componentStack",title:function(){return nV.COMPONENT},trimWhitespace:!0}]}}),ce=of({"src/global.d.ts"(){}}),cn={};o_(cn,{fs:()=>ub,loader:()=>aC,modules:()=>oC});var ct=of({"src/lib/api/native/index.ts"(){uR(),az(),oR()}}),cr={};o_(cr,{assets:()=>oG,commands:()=>iO,flux:()=>u6,native:()=>cn,patcher:()=>ok,storage:()=>oJ});var co=of({"src/lib/api/index.ts"(){oz(),iL(),u3(),ct(),oV(),o1()}}),ca={};o_(ca,{fonts:()=>uI,plugins:()=>sh,themes:()=>ad});var ci=of({"src/lib/managers/index.ts"(){uB(),sI(),aw()}}),cs={};o_(cs,{alerts:()=>iU,color:()=>iV,components:()=>sm,settings:()=>sH,styles:()=>i$,toasts:()=>ip});var cu=of({"src/lib/ui/index.ts"(){ij(),iz(),sp(),sY(),iW(),iy()}}),cc={};function cl(){for(var e of or)"function"==typeof e&&e();delete window.bunny}o_(cc,{api:()=>cr,debug:()=>iE,managers:()=>ca,metro:()=>iP,settings:()=>a$,ui:()=>cs,unload:()=>cl,utils:()=>au});var cf=of({"src/lib/index.ts"(){ce(),co(),iS(),ci(),aY(),cu(),ac(),iM(),or=[],cl.push=function(e){or.push(e)}}}),cd={};async function c_(){var e,n;if(aM())try{aI()&&(null!=d.removeFile?uS("vendetta_theme.json",""):uT("vendetta_theme.json","null","")),aT()}catch(e){console.error("[Bunny] Failed to initialize themes...",e)}await Promise.all([u5(),s$(),ib(),iN(),am(),rt(),(e=function({locale:e}){var n=nU=({"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"})[e]??e;if(n.startsWith("en-")){nF=null;return}nk.has(n)?nF=n:(nk.add(n),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${n}/bunny.json`).then(function(e){return e.json()}).then(function(e){return nj[n]=e}).then(function(){return n===nU&&(nF=n)}).catch(function(e){return console.error(`An error occured while fetching strings for ${n}: ${e}`)}))},ez.subscribe("I18N_LOAD_SUCCESS",e),function(){return ez.unsubscribe("I18N_LOAD_SUCCESS",e)}),void(sz({name:"Bunny",items:[{key:"BUNNY",title:function(){return nV.BUNNY},icon:{uri:rg},render:function(){return Promise.resolve().then(()=>(sZ(),sq))},rawTabsConfig:{useTrailing:function(){return"(d8aed56-local)"}}},{key:"BUNNY_PLUGINS",title:function(){return nV.PLUGINS},icon:R("ActivitiesIcon"),render:function(){return Promise.resolve().then(()=>(uf(),uc))}},{key:"BUNNY_THEMES",title:function(){return nV.THEMES},icon:R("PaintPaletteIcon"),render:function(){return Promise.resolve().then(()=>(uh(),uE))},usePredicate:function(){return aM()}},{key:"BUNNY_FONTS",title:function(){return nV.FONTS},icon:R("ic_add_text"),render:function(){return Promise.resolve().then(()=>(uX(),uK))},usePredicate:function(){return aH()}},{key:"BUNNY_DEVELOPER",title:function(){return nV.DEVELOPER},icon:R("WrenchIcon"),render:function(){return Promise.resolve().then(()=>(u4(),u1))},usePredicate:function(){return oQ(nc).developerSettings??!1}}]}),sz({name:"Vendetta",items:[]})),void ez.subscribe("I18N_LOAD_SUCCESS",io),g.proxy("render",[r7,function(e){return e.prototype}],function(e,n){var t=this;if(this.state.error){this.state.activeTab??="message";var r=ot.find(function(e){return e.id===t.state.activeTab}),o=this.state.error[this.state.activeTab],a=[{text:nV.RELOAD_DISCORD,onPress:this.handleReload},...nc.safeMode?.enabled?[]:[{text:nV.RELOAD_IN_SAFE_MODE,onPress:ig}],{text:nV.RETRY_RENDER,color:ew.RED,onPress:function(){return t.setState({info:null,error:null})}}];return __bunny_createElement(t9,null,__bunny_createElement(n9,{style:on.container},__bunny_createElement(r3.View,{style:on.header},__bunny_createElement(n.props.Illustration,{style:{transform:[{scale:.6}],marginLeft:-40,marginRight:-80}}),__bunny_createElement(r3.View,{style:{flex:2,paddingLeft:24}},__bunny_createElement(r3.Text,{style:on.headerTitle},n.props.title),__bunny_createElement(r3.Text,{style:on.headerDescription},n.props.body))),__bunny_createElement(r3.View,{style:{flex:6}},__bunny_createElement(r3.View,{style:{paddingBottom:8}},__bunny_createElement(oe,{tabs:ot.map(function(e){return{...e,title:e.title()}}),activeTab:this.state.activeTab,onTabSelected:function(e){t.setState({activeTab:e})}})),__bunny_createElement(iX,{selectable:!0,style:{flex:1,textAlignVertical:"top"}},r?.trimWhitespace?o.split("\n").filter(function(e){return 0!==e.length}).map(function(e){return e.trim()}).join("\n"):o)),__bunny_createElement(r3.View,{style:on.footer},a.map(function(e){var n=0!==a.indexOf(e)?8:0;return __bunny_createElement(n6,{text:e.text,color:e.color??ew.BRAND,size:e.size??"small",onPress:e.onPress,style:{...m.isTablet?{flex:`0.${a.length}`,marginLeft:n}:{marginTop:n},borderRadius:16}})}))))}}),(n=[(sx(),oy(sP))].map(function(e){return e.default()}),function(){return n.forEach(function(e){return"function"==typeof e&&e()})})]).then(function(e){return e.forEach(function(e){return e&&cl.push(e)})}),window.bunny=cc,sR().then(function(e){return cl.push(e)}),ux(),eT.log("Bunny is ready!")}o_(cd,{default:()=>c_});var cm=of({"src/index.ts"(){ia(),iu(),sB(),sg(),u8(),iL(),u3(),uR(),az(),oR(),iS(),uB(),sI(),aw(),an(),u7(),sY(),cf()}});async function cp(){try{Object.freeze=Object.seal=Object,await (ir(),oy(a8)).initMetroCache(),await (cm(),oy(cd)).default()}catch(t){var{ClientInfoManager:e}=(oR(),oy(oC)),n=t instanceof Error?t.stack:void 0;console.log(n??t?.toString?.()??t),alert(["Failed to load Bunny!\n",`Build Number: ${e.Build}`,"Bunny: d8aed56-local",n||t?.toString?.()].join("\n"))}}if(oh(),ow(),globalThis.window=globalThis,globalThis.__bunny_createElement=function(e,n,...r){var o,a=(o=e,t.get(o));return a&&(e=a()),React.createElement(e,n,...r)},void 0!==globalThis.__r)cp();else{var cy=function(e){var n=window.__fbBatchedBridge,t=[],r=u("callFunctionReturnFlushedQueue",n,function(e,r){return"AppRegistry"!==e[0]&&n.getCallableModule(e[0])?r.apply(n,e):(t.push(e),n.flushedQueue())});!async function(){await cp(),r(),e(0),t.forEach(function(e){return n.getCallableModule(e[0])&&n.__callFunction(...e)})}()};Object.defineProperties(globalThis,{__r:{configurable:!0,get:function(){return oo},set(e){oo=function(n){if(0!==n)return e(n);cy(e),oo=e}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(e){this.value=e}}})}})();//# sourceURL=bunny